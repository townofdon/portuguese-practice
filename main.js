/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/resources/conjugation-fazer.yaml":
/*!**********************************************!*\
  !*** ./src/resources/conjugation-fazer.yaml ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({present:[{pr:'Eu **faço** uma viagem',en:'I **make** a journey'},{pr:'Que diferença faz?',en:'What difference does it make?'},{pr:'A única história que tem valor é a história que **fazemos** hoje',en:'The only history that\'s worth a damn is the history **we make** today'},{pr:'Repare nos pequenos detalhes; eles **fazem** toda a diferença',en:'Take notice of the small details; they **make** all the difference'}],imperfect:[{pr:'Ver seu filme favorito sempre a **fazia** sentir-se nostálgica e acolhida',en:'Watching her favorite movie always **made** her feel nostalgic and warm'},{pr:'O longo intervalo entre cada onda **fazia** a praia parecer tranquila',en:'The stretching time between each wave **made** the beach feel peaceful'},{pr:'No entanto, **fazíamos** o que era possível em cada jogo',en:'However, **we did** what was possible in every game'},{pr:'Ainda assim, parecia um pequeno avanço em relação ao que **fazíamos**',en:'Still, it seemed a small improvement over what **we were doing**'},{pr:'Seus instintos atentos **faziam** dela uma ótima líder em situações críticas',en:'Her observant instincts **made** her a great leader in critical situations.'}],preterite:[{pr:'Ontem à noite, fiz um intercâmbio de receitas com minha vizinha',en:'I swapped recipes with my neighbor last night \\n _(made an exchange)_'},{pr:'Não foi nada comparado ao esforço que **fiz** no ano passado',en:'It was nothing compared to the effort **I put in** last year'},{pr:'Fui ao mercado ontem e **fiz estoque** de todos os meus produtos favoritos',en:'I went grocery shopping yesterday and **stocked up** on all my favorites'},{pr:'O abraço dela o **fez** sentir-se seguro e amado naquele momento',en:'Her embracing **made** him feel safe and loved in that moment'},{pr:'Apesar da estrada esburacada, **fizemos** ótimas lembranças em nossa viagem',en:'Despite the bumpy road, we **made** great memories on our journey'},{pr:'Eles **fizeram** uma saída rápida da festa antes que alguém notasse',en:'They **made** a swift escape from the party before anyone noticed'}],presentPerfect:[{pr:'O que tenho de **fazer** para te deixar feliz?',en:'What do I have to do **to make** you happy?'},{pr:'Tenho que **fazer** dinheiro',en:'I have **to make** the money'}],future:null,presentSubjunctive:null});

/***/ }),

/***/ "./src/resources/conjugation-ver-vir.yaml":
/*!************************************************!*\
  !*** ./src/resources/conjugation-ver-vir.yaml ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({ver:{present:[{pr:'eu vejo o sol todos os dias',en:'I see the sun every day'},{pr:'ele vê os pássaros voando',en:'he sees the birds flying'},{pr:'nós vemos o mar daqui',en:'we see the sea from here'},{pr:'eles veem os animais na floresta',en:'they see the animals in the forest'}],imperfect:[{pr:'eu via os carros passarem na rua',en:'I used to see the cars passing in the road'},{pr:'ele via os animais na floresta',en:'he used to see the animals in the forest'},{pr:'nós víamos o pôr do sol na praia',en:'we used to see the sunset on the beach'},{pr:'eles viam a lua no céu',en:'they used to see the moon in the sky'}],preterite:[{pr:'eu vi o filme ontem',en:'I saw the film yesterday'},{pr:'ele viu o trem passar',en:'he saw the train pass'},{pr:'nós vimos o mar agitado',en:'we saw the rough sea'},{pr:'eles viram o eclipse da lua',en:'they saw the eclipse of the moon'}],presentPerfect:[{pr:'eu tenho visto muitos filmes bons',en:'I have seen many good films'},{pr:'ele tem visto muitas estrelas à noite',en:'he has seen many stars at night'},{pr:'nós temos visto o pôr do sol juntos',en:'we have seen the sunset together'},{pr:'eles têm visto os fogos de artifício no céu',en:'they have seen the fireworks in the sky'}],future:[{pr:'eu verei o nascer do sol amanhã',en:'I will see the sunrise tomorrow'},{pr:'ele verá os fogos de artifício no reveillon',en:'He will see the fireworks on New Year\'s Eve'},{pr:'nós veremos o mar azul na viagem',en:'we will see the blue sea on the journey'},{pr:'eles verão as flores no jardim',en:'they will see the flowers in the garden'}],presentSubjunctive:[{pr:'você quer que eu **veja** qual é o problema?',en:'do you want me **to see** what the problem is?'},{pr:'você quer que um mechanica **veja** qual é o problema?',en:'do you want a mechanic **to see** what the problem is?'},{pr:'você quer que nós **vejamos** qual é o problema?',en:'do you want us **to see** what the problem is?'},{pr:'você quer que eles **vejam** qual é o problema?',en:'do you want them **to see** what the problem is?'}]},vir:{present:[{pr:'eu venho sempre ao parque',en:'I always come to the park'},{pr:'eu tenho satisfação quando eu venho aqui',en:'I have satisfaction when I come here'},{pr:'ela vem mais tarde',en:'she comes later'},{pr:'nós vimos o filme juntos',en:'we see the film together'},{pr:'eles vêm de longe',en:'they come from afar'}],imperfect:[{pr:'eu vinha ao parque todos os dias',en:'I used to come to the park every day'},{pr:'ele vinha ler aqui à tarde',en:'he used to come read here in the afternoon'},{pr:'nós vinhamos sempre antes do jantar',en:'we used to always come before dinner'},{pr:'eles vinham jogar futebol todas as tardes',en:'they used to come play soccer every afternoon'}],preterite:[{pr:'eu vim à praia hoje',en:'I came to the beach today'},{pr:'ele veio ajudar a avó',en:'he came to help his grandmother'},{pr:'nós viemos almoçar contigo',en:'we came to have lunch with you'},{pr:'eles vieram rápido demais',en:'they came too fast'}],presentPerfect:[{pr:'eu tehno vindo aqui com frequência',en:'I have been coming here often'},{pr:'ele tem vindo ajudar os outros',en:'he has been coming to help others'},{pr:'nós temos vindo passear no parque',en:'we have been coming for a walk in the park'},{pr:'eles têm vindo brincar no parque',en:'they have been coming to play in the park'}],future:[{pr:'eu virei buscar você mais tarde',en:'I will come find you later'},{pr:'ele virá ajudar na festa',en:'he will come help at the party'},{pr:'nós viremos jantar juntos',en:'we will come to dinner together'},{pr:'eles virão no próximo final de semana',en:'they will come next weekend'}],presentSubjunctive:[{pr:'É melhor que eu **venha** mais cedo amanhã',en:'It is better that I **come** earlier tomorrow \\n _(I better come early tomorrow)_'},{pr:'É melhor que você **venha** mais cedo amanhã',en:'It is better that you **come** earlier tomorrow \\n _(You better come early tomorrow)_'},{pr:'É melhor que **venhamos** mais cedo amanhã',en:'It is better that we **come** earlier tomorrow \\n _(We better come early tomorrow)_'},{pr:'É melhor que eles **venham** mais cedo amanhã',en:'It is better that they **come** earlier tomorrow \\n _(They better come early tomorrow)_'}]},ver_and_vir:{present:[{pr:'sempre que eu **venho** ao jardim, **vejo** muitas flores',en:'when I **come** to the garden, I always **see** many flowers'},{pr:'sempre que ele **vem** ao parque, **vê** alguns passaros',en:'when he **comes** to the park, he always **sees** some birds'},{pr:'sempre que nós **vimos** a praia, **vemos** crianças brincando',en:'when we **come** to the beach, we always **see** kids playing'},{pr:'sempre que elas **vêm** a favela, **veem** alguns cachorros brincando',en:'when they **come** to the favela, they always **see** some dogs playing'}],imperfect:[{pr:'Antigamente, quando eu **vinha** ao parque, **via** mais famílias fazendo piquenique',en:'In the past, when I **came** to the park, I **saw** more families having picnics'},{pr:'Antigamente, quando ele **vinha** ao parque, **via** mais crianças empinado pipa',en:'In the past, when he **came** to the park, he **saw** more kids flying kites'},{pr:'Antigamente, quando nos **vínhamos** ao parque, **víamos** mais crianças pulando corda',en:'In the past, when we **came** to the park, we **saw** more kids jumping rope'},{pr:'Antigamente, quando eles **vinham** ao parque, **viam** mais crianças brincando',en:'In the past, when they **came** to the park, they **saw** more kids playing'}],preterite:[{pr:'Ontem, quando **vim** ao parque, eu **vi** uma capivara',en:'Yesterday, when I **came** to the park, I **saw** a capybara'},{pr:'Ontem, quando **veio** a floresta, ele **viu** um urso',en:'Yesterday, when he **came** to the forest, he **saw** a bear'},{pr:'Ontem, quando **viemos** ao jardim, nos **vimos** uma flor maravilhosa',en:'Yesterday, when we **came** to the garden, we **saw** an amazing flower'},{pr:'Ontem, quando **vieram** a cidade, eles **viram** um desfile',en:'Yesterday, when they **came** to the city, they **saw** a parade'},{pr:'Eu **vim** à cidade e **vi** meu filho',en:'I **came** to the city and **saw** my son'},{pr:'Ele **veio** à festa e **viu** sua namorada',en:'He **came** to the party and **saw** his girlfriend'}]}});

/***/ }),

/***/ "./src/resources/vocab.yaml":
/*!**********************************!*\
  !*** ./src/resources/vocab.yaml ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ([{pr:'Socorro!',en:'Help!'},{pr:'Sunga',en:'Swimsuit'},{pr:'Compromisso',en:'Meeting'}]);

/***/ }),

/***/ "./src/resources/weak-phrases.yaml":
/*!*****************************************!*\
  !*** ./src/resources/weak-phrases.yaml ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ([{pr:'Ele é um colecionador que coleciona itens',en:'He is a collector who collects items'},{pr:'Tenho uma coleção',en:'I have a collection'},{pr:'Vou **ganhar** mais dinheiro naquela hora',en:'I will **get** more money at that time'},{pr:'Foi escuro lá fora',en:'It was dark outside'},{pr:'Está ficando oscuro lá fora',en:'It is getting dark outside'},{pr:'Venha me conhecer algum dia',en:'Come and meet me some day'},{pr:'Venha me ver algum dia',en:'Come and see me some day'},{pr:'Não perca a fé',en:'Do not lose faith'},{pr:'Ele não perde a fé',en:'He does not lose faith'},{pr:'Ela me apresentou ao seu namorado na festa',en:'She introduced me to her boyfriend at the party'},{pr:'Ele levou meu casaco',en:'He took my coat'},{pr:'Eu te dou este relógio como um presente',en:'I give this watch to you as a gift'},{pr:'Eu sonhei um sonho de um tempo passado',en:'I dreamed a dream of time gone by'},{pr:'Eu me diverti muito',en:'I had a good time'},{pr:'Foi um bom momento',en:'It was a good time'},{pr:'Ele veio de longe',en:'He came from far away'},{pr:'Estou vindo',en:'I am coming'},{pr:'Continue em frente, por favor',en:'Keep going forward, please'},{pr:'A luz é brilhante',en:'The light is bright'},{pr:'É favorável para nós irmos',en:'It is favorable for us to go'},{pr:'Eu pensei que nosso **compromisso** seria na semana que vem',en:'I thought that our **meeting** was next week'},{pr:'Isso não quer dizer nada',en:'This doesn\'t mean anything'},{pr:'Eles me **dão** arroz',en:'They **give** me rice'},{pr:'Ele não deve vir aqui novamente',en:'He must not come here again'},{pr:'Há outros fatores que nos fazem pensar assim',en:'There are other factors that make us think like that'},{pr:'Ela nos explora',en:'She exploits us'},{pr:'O restaurante fica em frente à escola',en:'The restaurant is in front of the school'},{pr:'Este é meu tipo de personagem',en:'This is my type of character'},{pr:'Eu não vejo minha namorada há duas semanas',en:'I have not seen my girlfriend for two weeks'},{pr:'Como tem passado o seu pai?',en:'How has your father been?'},{pr:'Meu filho tem me perguntado **coisas estranhas**',en:'My son has been asking me **strange questions**'},{pr:'Tente descobrir se tudo que ele disse é verdade',en:'Try to find out if everything that he said is true'},{pr:'Ele me conta tudo',en:'He tells me everything'},{pr:'Eu segurei um bebé em meus braços',en:'I held a baby in my arms'}]);

/***/ }),

/***/ "./src/Logger.js":
/*!***********************!*\
  !*** ./src/Logger.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Logger: () => (/* binding */ Logger)
/* harmony export */ });

const Logger = {
  _enabled: false,
  _debug: false,

  enable() {
    Logger._enabled = true;
  },

  disable() {
    Logger._enabled = false;
  },

  enableDebug() {
    Logger._debug = true;
  },

  disableDebug() {
    Logger._debug = false;
  },

  debug(...args) {
    if (!Logger._enabled) {
      return;
    }
    if (!Logger._debug) {
      return;
    }
    console.log(...args);
  },

  info(...args) {
    if (!Logger._enabled) {
      return;
    }
    console.log(...args);
  },

  warn(...args) {
    if (!Logger._enabled) {
      return;
    }
    console.warn(...args);
  },

  error(...args) {
    // always show errors
    console.error(...args);
  },
}


/***/ }),

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./resources/conjugation-ver-vir.yaml */ "./src/resources/conjugation-ver-vir.yaml");
/* harmony import */ var _resources_conjugation_fazer_yaml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./resources/conjugation-fazer.yaml */ "./src/resources/conjugation-fazer.yaml");
/* harmony import */ var _resources_weak_phrases_yaml__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resources/weak-phrases.yaml */ "./src/resources/weak-phrases.yaml");
/* harmony import */ var _resources_vocab_yaml__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./resources/vocab.yaml */ "./src/resources/vocab.yaml");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ "./src/constants.js");
/* harmony import */ var _keyboardUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./keyboardUtils */ "./src/keyboardUtils.js");
/* harmony import */ var _Logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Logger */ "./src/Logger.js");
/* harmony import */ var _speak__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./speak */ "./src/speak.js");
/* harmony import */ var _stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./stores/OptionsStore */ "./src/stores/OptionsStore.js");
/* harmony import */ var _stores_QuestionsStore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./stores/QuestionsStore */ "./src/stores/QuestionsStore.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils */ "./src/utils.js");


;












_Logger__WEBPACK_IMPORTED_MODULE_6__.Logger.enable();
_Logger__WEBPACK_IMPORTED_MODULE_6__.Logger.disableDebug();

const mainNode = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('main');
const cardQuestion = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('card-question');
const cardAnswer = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('card-answer');
const cardQuestionContent = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireFirstChild)(cardQuestion)
const cardAnswerContent = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireFirstChild)(cardAnswer)

;(0,_utils__WEBPACK_IMPORTED_MODULE_10__.assert)(cardQuestionContent, 'cardQuestionContent does not exist');
(0,_utils__WEBPACK_IMPORTED_MODULE_10__.assert)(cardAnswerContent, 'cardAnswerContent does not exist');

const buttonPrev = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('button-prev');
const buttonNext = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('button-next');
const buttonReshuffle = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('button-reshuffle');
const buttonSpeak = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('button-speak');
const buttonSnooze1h = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('button-snooze-1h');
const buttonSnooze7d = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('button-snooze-7d');
const buttonSnooze30d = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('button-snooze-30d');
const buttonUnsnooze = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('button-unsnooze');
const progress = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('progress');
const formQuestionOrder = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('form-question-order');
const formSelectExercises = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('form-select-exercises');
const formSelectMode = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('form-select-mode');
const speechStatus = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.requireById)('speech-status');

/**
 * @typedef {{pr: string, en: string}} TranslationPair
 */

/**
 * Problem Tuple -> `[question, answer, portuguese-index-for-text-to-speech, hash]`
 * @typedef {[string, string, number]|[string, string, number, string]} Problem
 */

/** @type {{ revealed: boolean, problems: Problem[], index: number }} State */
const state = {
  revealed: false,
  problems: [],
  index: 0,
};

function main() {
  renderOptions();
  shuffleQuestions();
  setupListeners();
}

function randBool() {
  return Math.random() >= 0.5
}

function shuffleQuestions() {
  state.revealed = false;
  state.problems = [];
  state.index = 0;
  /** @type {Problem[]} */
  const problems = []
  /** @param {TranslationPair} trans */
  const addProblem = (trans) => {
    if (!trans.en || !trans.pr) {
      throw new Error(`Problem is invalid: ${JSON.stringify(trans)}`)
    }
    const order = _stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.getOrder();
    if (order === _constants__WEBPACK_IMPORTED_MODULE_4__.ORDER.EN_FIRST) {
      problems.push([trans.en, trans.pr, 1]);
    } else if (order === _constants__WEBPACK_IMPORTED_MODULE_4__.ORDER.PR_FIRST) {
      problems.push([trans.pr, trans.en, 0]);
    } else {
      const flip = randBool();
      if (flip) {
        problems.push([trans.en, trans.pr, 1]);
      } else {
        problems.push([trans.pr, trans.en, 0]);
      }
    }
  }

  const selectedExercises = _stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.getSelectedExercises()

  if (selectedExercises[_constants__WEBPACK_IMPORTED_MODULE_4__.EXERCISE.VER_CONJUGATION]) {
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].ver.present.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].ver.preterite.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].ver.imperfect.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].ver.presentPerfect.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].ver.future.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].ver.presentSubjunctive.forEach(addProblem);
  }

  if (selectedExercises[_constants__WEBPACK_IMPORTED_MODULE_4__.EXERCISE.VIR_CONJUGATION]) {
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].vir.present.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].vir.preterite.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].vir.imperfect.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].vir.presentPerfect.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].vir.future.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].vir.presentSubjunctive.forEach(addProblem);
  }

  if (selectedExercises[_constants__WEBPACK_IMPORTED_MODULE_4__.EXERCISE.VER_AND_VIR]) {
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].ver_and_vir.present.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].ver_and_vir.preterite.forEach(addProblem);
    _resources_conjugation_ver_vir_yaml__WEBPACK_IMPORTED_MODULE_0__["default"].ver_and_vir.imperfect.forEach(addProblem);
  }

  if (selectedExercises[_constants__WEBPACK_IMPORTED_MODULE_4__.EXERCISE.FAZER_CONJUGATION]) {
    _resources_conjugation_fazer_yaml__WEBPACK_IMPORTED_MODULE_1__["default"].present.forEach(addProblem);
    _resources_conjugation_fazer_yaml__WEBPACK_IMPORTED_MODULE_1__["default"].preterite.forEach(addProblem);
    _resources_conjugation_fazer_yaml__WEBPACK_IMPORTED_MODULE_1__["default"].imperfect.forEach(addProblem);
    _resources_conjugation_fazer_yaml__WEBPACK_IMPORTED_MODULE_1__["default"].presentPerfect.forEach(addProblem);
  }

  if (selectedExercises[_constants__WEBPACK_IMPORTED_MODULE_4__.EXERCISE.WEAK_PHRASES]) {
    _resources_weak_phrases_yaml__WEBPACK_IMPORTED_MODULE_2__["default"].forEach(addProblem);
  }

  if (selectedExercises[_constants__WEBPACK_IMPORTED_MODULE_4__.EXERCISE.VOCAB]) {
    _resources_vocab_yaml__WEBPACK_IMPORTED_MODULE_3__["default"].forEach(addProblem);
  }

  state.problems = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.shuffleArray)(problems);

  prepareHashData(() => {
    renderContent();
  });
}

function playTranslationAudio() {
  const numProblems = state.problems.length
  if (numProblems === 0) {
    return;
  }
  const currentIndex = state.index % numProblems;
  const currentProblem = state.problems[currentIndex];
  /** @type {string} */
  // @ts-ignore
  const ptPhrase = currentProblem[currentProblem[2]]
  const [showSpeakingStatus, hideSpeakingStatus] = prepareSpeakingStatus();
  const didSpeak = (0,_speak__WEBPACK_IMPORTED_MODULE_7__.speak)(ptPhrase, () => hideSpeakingStatus());
  if (didSpeak) {
    showSpeakingStatus();
  }
}

function advance() {
  if (state.revealed) {
    state.index++;
    state.revealed = false;
    const numProblems = state.problems.length
    const currentIndex = state.index % numProblems;
    if (currentIndex === 0) {
      celebrate();
    } else if (_stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.getMode() === _constants__WEBPACK_IMPORTED_MODULE_4__.MODE.LISTENING) {
      playTranslationAudio();
    }
  } else {
    state.revealed = true;
  }
  renderContent();
}

function rewind() {
  state.revealed = false;
  state.index--;
  if (state.index < 0) state.index = state.problems.length - 1;
  renderContent();
}

function setupListeners() {
  buttonNext.addEventListener('click', advance);
  buttonPrev.addEventListener('click', rewind);
  buttonReshuffle.addEventListener('click', shuffleQuestions);
  buttonSpeak.addEventListener('click', playTranslationAudio);
  buttonSnooze1h.addEventListener('click', handleClickSnooze);
  buttonSnooze7d.addEventListener('click', handleClickSnooze);
  buttonSnooze30d.addEventListener('click', handleClickSnooze);
  buttonUnsnooze.addEventListener('click', handleClickUnsnooze);
  document.addEventListener('keydown', handleKeyPress);
  // @ts-ignore
  formQuestionOrder.addEventListener('change', handleQuestionOrderChange)
  // @ts-ignore
  formSelectExercises.addEventListener('change', handleSelectExerciseChange)
  // @ts-ignore
  formSelectMode.addEventListener('change', handleSelectModeChange)
}

/**
 * @param {KeyboardEvent} ev
 */
function handleKeyPress(ev) {
  if (!ev) return;

  if ((0,_keyboardUtils__WEBPACK_IMPORTED_MODULE_5__.isCharPressed)(ev, _keyboardUtils__WEBPACK_IMPORTED_MODULE_5__.SpecialKey.ArrowRight)) {
    advance();
    ev.preventDefault();
  } else if ((0,_keyboardUtils__WEBPACK_IMPORTED_MODULE_5__.isCharPressed)(ev, _keyboardUtils__WEBPACK_IMPORTED_MODULE_5__.SpecialKey.ArrowLeft)) {
    rewind();
    ev.preventDefault();
  } else if ((0,_keyboardUtils__WEBPACK_IMPORTED_MODULE_5__.isCharPressed)(ev, _keyboardUtils__WEBPACK_IMPORTED_MODULE_5__.SpecialKey.Space)) {
    ev.preventDefault();
    playTranslationAudio();
  } else if ((0,_keyboardUtils__WEBPACK_IMPORTED_MODULE_5__.isCharPressed)(ev, _keyboardUtils__WEBPACK_IMPORTED_MODULE_5__.SpecialKey.Enter) && ev.shiftKey && ev.altKey) {
    celebrate();
  }
}

/**
 * @param {Event & { target: HTMLInputElement }} ev
 */
function handleQuestionOrderChange(ev) {
  if (!ev.target) return
  // state.order = ev.target.value;
  _stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.setOrder(ev.target.value);
  shuffleQuestions();
}

/**
 * @param {Event & { target: HTMLInputElement }} ev
 */
function handleSelectExerciseChange(ev) {
  _stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.setSelectedExercise(ev.target.name, ev.target.checked);
  shuffleQuestions();
}

/**
 * @param {Event & { target: HTMLInputElement }} ev
 */
function handleSelectModeChange(ev) {
  _stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.setMode(ev.target.value);
  shuffleQuestions();
}

/**
 * @param {*} ev
 * @returns
 */
function handleClickSnooze(ev) {
  const seconds = parseInt(ev.currentTarget.dataset.seconds, 10) || 0;
  if (!seconds) return;
  const snoozeDurationMs = seconds * 1000;
  snoozeCurrentQuestion(snoozeDurationMs);
  if (_stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.getMode() === _constants__WEBPACK_IMPORTED_MODULE_4__.MODE.LISTENING) {
    playTranslationAudio();
  }
  renderContent();
}

/**
 * @param {*} ev
 */
function handleClickUnsnooze(ev) {
  _stores_QuestionsStore__WEBPACK_IMPORTED_MODULE_9__.questionsStore.unsnoozeAllQuestions();
  shuffleQuestions();
}

function renderContent() {
  const numProblems = state.problems.length

  if (numProblems === 0) {
    cardQuestionContent.innerHTML = "Please select an exercise to begin";
    cardAnswerContent.innerHTML = "Por favor selecione um exercício para começar";
    cardAnswer.classList.add('revealed');
    progress.innerHTML = "0 / 0";
    return;
  }

  const currentIndex = state.index % numProblems;
  const progressText = `${currentIndex + 1} / ${numProblems}`
  const currentProblem = state.problems[currentIndex];

  (0,_utils__WEBPACK_IMPORTED_MODULE_10__.assert)(currentProblem, `currentProblem out of bounds - tried index ${currentIndex} for array of length ${numProblems}`);
  if (!currentProblem) return

  cardQuestionContent.innerHTML = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.markifyText)(currentProblem[0]);
  cardAnswerContent.innerHTML = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.markifyText)(currentProblem[1]);

  if (state.revealed) {
    cardQuestion.classList.add('revealed');
    cardAnswer.classList.add('revealed');
  } else {
    cardQuestion.classList.remove('revealed');
    cardAnswer.classList.remove('revealed');
  }

  mainNode.classList.remove('mode-reading');
  mainNode.classList.remove('mode-listening')
  switch (_stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.getMode()) {
    case _constants__WEBPACK_IMPORTED_MODULE_4__.MODE.LISTENING:
      mainNode.classList.add('mode-listening');
      break;
    case _constants__WEBPACK_IMPORTED_MODULE_4__.MODE.READING:
      mainNode.classList.add('mode-reading');
      break;
  }

  progress.innerHTML = progressText;
}

function renderOptions() {
  formQuestionOrder.querySelectorAll('input').forEach(input => {
    if (input.name === 'question-order') {
      input.checked = _stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.getOrder() === input.value;
    }
  });

  formSelectExercises.querySelectorAll('input').forEach(input => {
    if (input.name.includes('checkbox-exercise')) {
      input.checked = !!_stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.getSelectedExercises()[input.name];
    }
  });

  formSelectMode.querySelectorAll('select').forEach(select => {
    if (select.name.includes('select-mode')) {
      select.value = _stores_OptionsStore__WEBPACK_IMPORTED_MODULE_8__.optionsStore.getMode();
    }
  });
}

/**
 * @param {number} snoozeDurationMs
 */
function snoozeCurrentQuestion(snoozeDurationMs, shouldRemoveProblem = true) {
  const numProblems = state.problems.length
  if (numProblems === 0) {
    return;
  }
  const currentIndex = state.index % numProblems;
  const currentProblem = state.problems[currentIndex];
  if (!currentProblem) return;
  const hash = currentProblem[3] || "";
  const didSnooze = _stores_QuestionsStore__WEBPACK_IMPORTED_MODULE_9__.questionsStore.snoozeQuestion(hash, snoozeDurationMs);
  if (didSnooze && shouldRemoveProblem) {
    state.problems = (0,_utils__WEBPACK_IMPORTED_MODULE_10__.removeArrayElement)(state.problems, currentIndex);
    state.revealed = false;
  }
}

/** @type {null | (() => void)} */
let cleanupHashProcessor = null;

/**
 * Hash Portuguese phrase to allow for "snoozing" a flash card
 */
function prepareHashData(onProcessingComplete = () => {}) {
  if (cleanupHashProcessor) {
    cleanupHashProcessor();
  }

  let ignore = false;

  async function process() {
    const timeStart = performance.now();
    let i = 0;
    while (!ignore && i < state.problems.length) {
      const problem = state.problems[i];
      if (!problem) continue;
      const ptPhrase = String(problem[problem[2]]);
      const hash = await (0,_utils__WEBPACK_IMPORTED_MODULE_10__.sha256)(ptPhrase);
      // @ts-ignore
      state.problems[i][3] = hash;
      _Logger__WEBPACK_IMPORTED_MODULE_6__.Logger.debug(`processing msg ${i} - ${hash} generated for "${ptPhrase}"`)
      i++;
    }
    if (!ignore) {
      const snoozedQuestions = _stores_QuestionsStore__WEBPACK_IMPORTED_MODULE_9__.questionsStore.getSnoozedQuestions();
      state.problems = state.problems.filter(problem => {
        const hash = problem[3] || "";
        const currentTime = Date.now();
        const timeSnoozeExpiresMs = snoozedQuestions[hash] || 0;
        return !!hash && timeSnoozeExpiresMs < currentTime
      })

      const timeEnd = performance.now();
      _Logger__WEBPACK_IMPORTED_MODULE_6__.Logger.info(`processing complete! - took ${timeEnd - timeStart}ms`);
      onProcessingComplete();
    }
  }

  process();

  cleanupHashProcessor = () => {
    ignore = true;
    cleanupHashProcessor = null;
  }
}

/**
 * @returns {[() => void, () => void]}
 */
function prepareSpeakingStatus() {
  /** @type {NodeJS.Timeout | null} */
  let interval = null;
  const showSpeakingStatus = () => {
    let i = 0;
    speechStatus.innerText = '.';
    interval = setInterval(() => {
      i++;
      speechStatus.innerText = (() => {
        if (i % 3 === 0) {
          return '.';
        }
        if (i % 3 === 1) {
          return '..';
        }
        return '...';
      })()
    }, 500);
  }
  const hideSpeakingStatus = () => {
    if (interval) {
      clearInterval(interval);
    }
    speechStatus.innerText = "";
  };
  return [showSpeakingStatus, hideSpeakingStatus];
}

function celebrate() {
  const sounds = [
    'sfx/162395__zut50__yay.mp3',
    'sfx/239594__xtrgamr__unimpressedyay_01.wav',
    'sfx/252808__xtrgamr__yay.wav',
    'sfx/323703__reitanna__funny-yay.wav',
    'sfx/353923__dr_skitz__yay.wav',
  ]
  const sound = new Audio((0,_utils__WEBPACK_IMPORTED_MODULE_10__.getRandomElement)(sounds));
  sound.play();
}

main();


/***/ }),

/***/ "./src/constants.js":
/*!**************************!*\
  !*** ./src/constants.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EXERCISE: () => (/* binding */ EXERCISE),
/* harmony export */   MODE: () => (/* binding */ MODE),
/* harmony export */   ONE_HOUR_MS: () => (/* binding */ ONE_HOUR_MS),
/* harmony export */   ORDER: () => (/* binding */ ORDER)
/* harmony export */ });

/**
 * @readonly
 * @enum {string}
 */
const ORDER = {
  PR_FIRST: 'pr-first',
  EN_FIRST: 'en-first',
  ANY: 'any',
}

/**
 * @readonly
 * @enum {string}
 */
const EXERCISE = {
  VER_CONJUGATION: 'checkbox-exercise-ver-conjugation',
  VIR_CONJUGATION: 'checkbox-exercise-vir-conjugation',
  VER_AND_VIR: 'checkbox-exercise-ver-and-vir',
  FAZER_CONJUGATION: 'checkbox-exercise-fazer',
  WEAK_PHRASES: 'checkbox-exercise-weak-phrases',
  VOCAB: 'checkbox-exercise-vocab',
}

/**
 * Practice mode - e.g. reading or listening
 * @readonly
 * @enum {string}
 */
const MODE = {
  READING: 'mode-reading',
  LISTENING: 'mode-listening',
}

/** @readonly */
const ONE_HOUR_MS = 60 * 60 * 1000;


/***/ }),

/***/ "./src/keyboardUtils.js":
/*!******************************!*\
  !*** ./src/keyboardUtils.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SpecialKey: () => (/* binding */ SpecialKey),
/* harmony export */   findNumberPressed: () => (/* binding */ findNumberPressed),
/* harmony export */   isCharPressed: () => (/* binding */ isCharPressed),
/* harmony export */   isNumberPressed: () => (/* binding */ isNumberPressed)
/* harmony export */ });

const SpecialKey = {
  Backspace: 'backspace',
  Escape: 'escape',
  Tab: 'tab',
  Space: 'space',
  Enter: 'enter',
  Delete: 'delete',
  ArrowUp: 'ArrowUp',
  ArrowDown: 'ArrowDown',
  ArrowLeft: 'ArrowLeft',
  ArrowRight: 'ArrowRight',
}

/**
 * Keyboard options
 * @typedef {Object} KeyboardOptions
 * @property {boolean} [ctrlKey] - control key is pressed.
 * @property {boolean} [shiftKey] - shift key is pressed.
 * @property {boolean} [altKey] - alt key is pressed.
 */

/**
 * determine whether a number is pressed
 * @param {KeyboardEvent} ev 
 * @param {number} num 
 * @param {KeyboardOptions} [opts]
 * @returns boolean
 */
function isNumberPressed(ev, num, opts = {}) {
  if (!areOptionsSatisfied(ev, opts)) return false;
  return findNumberPressed(ev) === num;
}

/**
 * determine whether a char is pressed
 * @param {KeyboardEvent} ev 
 * @param {string} char
 * @param {KeyboardOptions} [opts]
 * @returns boolean
 */
function isCharPressed(ev, char, opts = {}) {
  if (!areOptionsSatisfied(ev, opts)) return false;
  return findCharPressed(ev) === char;
}

/**
 * Determine whether options are satisfied (ctrl, alt, shift, etc.)
 * @param {KeyboardEvent} ev 
 * @param {KeyboardOptions} [opts]
 * @returns boolean
 */
function areOptionsSatisfied(ev, opts = {}) {
  if (!ev) return false;
  const isControlPressed = ev.metaKey || ev.ctrlKey; // meta key is CMD key on mac
  const isShiftPressed = ev.shiftKey;
  const isAltKeyPressed = ev.altKey;
  if (opts.ctrlKey && !isControlPressed) return false;
  if (opts.shiftKey && !isShiftPressed) return false;
  if (opts.altKey && !isAltKeyPressed) return false;
  return true;
}

/**
 * Find number pressed, or -1 if no match found
 * @param {KeyboardEvent} ev
 * @returns number
 */
function findNumberPressed(ev) {
  if (ev.key === '0' || ev.code === 'Digit0' || ev.code === 'Numpad0' || ev.keyCode === 48 || ev.keyCode === 96) return 0;
  if (ev.key === '1' || ev.code === 'Digit1' || ev.code === 'Numpad1' || ev.keyCode === 49 || ev.keyCode === 97) return 1;
  if (ev.key === '2' || ev.code === 'Digit2' || ev.code === 'Numpad2' || ev.keyCode === 50 || ev.keyCode === 98) return 2;
  if (ev.key === '3' || ev.code === 'Digit3' || ev.code === 'Numpad3' || ev.keyCode === 51 || ev.keyCode === 99) return 3;
  if (ev.key === '4' || ev.code === 'Digit4' || ev.code === 'Numpad4' || ev.keyCode === 52 || ev.keyCode === 100) return 4;
  if (ev.key === '5' || ev.code === 'Digit5' || ev.code === 'Numpad5' || ev.keyCode === 53 || ev.keyCode === 101) return 5;
  if (ev.key === '6' || ev.code === 'Digit6' || ev.code === 'Numpad6' || ev.keyCode === 54 || ev.keyCode === 102) return 6;
  if (ev.key === '7' || ev.code === 'Digit7' || ev.code === 'Numpad7' || ev.keyCode === 55 || ev.keyCode === 103) return 7;
  if (ev.key === '8' || ev.code === 'Digit8' || ev.code === 'Numpad8' || ev.keyCode === 56 || ev.keyCode === 104) return 8;
  if (ev.key === '9' || ev.code === 'Digit9' || ev.code === 'Numpad9' || ev.keyCode === 57 || ev.keyCode === 105) return 9;
  return -1;
}

/**
 * Find char pressed, or "" if no match found
 * @param {KeyboardEvent} ev
 * @returns string
 */
function findCharPressed(ev) {
  const num = findNumberPressed(ev);
  if (num !== -1) return String(num);
  if (ev.key === 'a' || ev.code === 'KeyA' || ev.keyCode === 65) return 'a';
  if (ev.key === 'b' || ev.code === 'KeyB' || ev.keyCode === 66) return 'b';
  if (ev.key === 'c' || ev.code === 'KeyC' || ev.keyCode === 67) return 'c';
  if (ev.key === 'd' || ev.code === 'KeyD' || ev.keyCode === 68) return 'd';
  if (ev.key === 'e' || ev.code === 'KeyE' || ev.keyCode === 69) return 'e';
  if (ev.key === 'f' || ev.code === 'KeyF' || ev.keyCode === 70) return 'f';
  if (ev.key === 'g' || ev.code === 'KeyG' || ev.keyCode === 71) return 'g';
  if (ev.key === 'h' || ev.code === 'KeyH' || ev.keyCode === 72) return 'h';
  if (ev.key === 'i' || ev.code === 'KeyI' || ev.keyCode === 73) return 'i';
  if (ev.key === 'j' || ev.code === 'KeyJ' || ev.keyCode === 74) return 'j';
  if (ev.key === 'k' || ev.code === 'KeyK' || ev.keyCode === 75) return 'k';
  if (ev.key === 'l' || ev.code === 'KeyL' || ev.keyCode === 76) return 'l';
  if (ev.key === 'm' || ev.code === 'KeyM' || ev.keyCode === 77) return 'm';
  if (ev.key === 'n' || ev.code === 'KeyN' || ev.keyCode === 78) return 'n';
  if (ev.key === 'o' || ev.code === 'KeyO' || ev.keyCode === 79) return 'o';
  if (ev.key === 'p' || ev.code === 'KeyP' || ev.keyCode === 80) return 'p';
  if (ev.key === 'q' || ev.code === 'KeyQ' || ev.keyCode === 81) return 'q';
  if (ev.key === 'r' || ev.code === 'KeyR' || ev.keyCode === 82) return 'r';
  if (ev.key === 's' || ev.code === 'KeyS' || ev.keyCode === 83) return 's';
  if (ev.key === 't' || ev.code === 'KeyT' || ev.keyCode === 84) return 't';
  if (ev.key === 'u' || ev.code === 'KeyU' || ev.keyCode === 85) return 'u';
  if (ev.key === 'v' || ev.code === 'KeyV' || ev.keyCode === 86) return 'v';
  if (ev.key === 'w' || ev.code === 'KeyW' || ev.keyCode === 87) return 'w';
  if (ev.key === 'x' || ev.code === 'KeyX' || ev.keyCode === 88) return 'x';
  if (ev.key === 'y' || ev.code === 'KeyY' || ev.keyCode === 89) return 'y';
  if (ev.key === 'z' || ev.code === 'KeyZ' || ev.keyCode === 90) return 'z';
  if (ev.key === '`' || ev.code === 'Backquote' || ev.keyCode === 192) return '`';
  if (ev.key === '-' || ev.code === 'Minus' || ev.keyCode === 189) return '-';
  if (ev.key === '=' || ev.code === 'Equals' || ev.keyCode === 187) return '=';
  if (ev.key === '-' || ev.code === 'NumpadSubtract' || ev.keyCode === 109) return '-';
  if (ev.key === '+' || ev.code === 'NumpadAdd' || ev.keyCode === 107) return '+';
  if (ev.key === '[' || ev.code === 'BracketLeft' || ev.keyCode === 219) return '[';
  if (ev.key === ']' || ev.code === 'BracketRight' || ev.keyCode === 221) return ']';
  if (ev.key === 'Backspace' || ev.code === 'Backspace' || ev.keyCode === 221) return SpecialKey.Backspace;
  if (ev.key === 'Escape' || ev.code === 'Escape' || ev.keyCode === 27) return SpecialKey.Escape;
  if (ev.key === ' ' || ev.code === 'Space' || ev.keyCode === 32) return SpecialKey.Space;
  if (ev.key === 'Enter' || ev.code === 'Enter' || ev.code === 'NumpadEnter' || ev.keyCode === 13) return SpecialKey.Enter;
  if (ev.key === 'Delete' || ev.code === 'Delete' || ev.keyCode === 46) return SpecialKey.Delete;
  if (ev.key === 'ArrowUp' || ev.code === 'ArrowUp' || ev.keyCode === 38) return SpecialKey.ArrowUp;
  if (ev.key === 'ArrowDown' || ev.code === 'ArrowDown' || ev.keyCode === 40) return SpecialKey.ArrowDown;
  if (ev.key === 'ArrowLeft' || ev.code === 'ArrowLeft' || ev.keyCode === 37) return SpecialKey.ArrowLeft;
  if (ev.key === 'ArrowRight' || ev.code === 'ArrowRight' || ev.keyCode === 39) return SpecialKey.ArrowRight;
  return ''
}


/***/ }),

/***/ "./src/speak.js":
/*!**********************!*\
  !*** ./src/speak.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   speak: () => (/* binding */ speak)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./src/utils.js");


const synth = window.speechSynthesis;

/** @type {HTMLSelectElement} */
// @ts-ignore
const selectVoice = (0,_utils__WEBPACK_IMPORTED_MODULE_0__.requireById)("select-voice")

/** @type {SpeechSynthesisVoice[]} */
let voices = [];

function loadVoices() {
  // note that in some browsers, loadVoices() must occur after user interaction...
  voices = synth.getVoices();
  if (!voices.length) {
    return;
  }
  for (const child of selectVoice.children) {
    child.remove();
  }
  let chosenVoiceIndex = 0;
  let backupVoiceIndex = 0;
  for (let i = 0; i < voices.length; i++) {
    const voice = voices[i];
    if (!voice) {
      continue;
    }
    if (!/^pt-/.test(voice.lang)) {
      continue;
    }
    const option = document.createElement("option");
    option.textContent = `${voice.name} (${voice.lang})`;
    option.value = String(i);
    selectVoice.appendChild(option);
    if (!chosenVoiceIndex && voice.lang === 'pt-BR' && voice.name.toLowerCase().includes('google')) {
      chosenVoiceIndex = i;
    }
    if (!backupVoiceIndex  && voice.lang === 'pt-BR') {
      backupVoiceIndex = i;
    }
  }
  selectVoice.value = String(chosenVoiceIndex || backupVoiceIndex);
}

// in Google Chrome the voices are not ready on page load
if ("onvoiceschanged" in synth) {
  synth.onvoiceschanged = loadVoices;
} else {
  loadVoices();
}

/**
 * @param {string} text
 * @param {(() => void) | undefined} onFinished
 * @returns {boolean}
 */
const speak = (text, onFinished = undefined) => {
  if (synth.speaking) return false;
  if (!voices.length) loadVoices();
  const filtered = text.replace(/\*\*/g, '');
  const utterance = new SpeechSynthesisUtterance(filtered);
  const voice = voices[parseInt(selectVoice.value, 10)];
  if (!voice) {
    return false;
  }
  utterance.voice = voice;
  synth.speak(utterance);
  if (onFinished) {
    utterance.onend = onFinished;
  }
  return true;
}


/***/ }),

/***/ "./src/stores/BaseStore.js":
/*!*********************************!*\
  !*** ./src/stores/BaseStore.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseStore: () => (/* binding */ BaseStore)
/* harmony export */ });

class BaseStore {
  get key() { return ""; } // abstract

  clearStore = () => {
    this._validate();
    localStorage.removeItem(this.key);
  }

  getStore = () => {
    this._validate();
    try {
      const itemRaw = localStorage.getItem(this.key);
      if (!itemRaw) return null;
      return JSON.parse(itemRaw)
    } catch (err) {
      console.warn(err);
      return null;
    }
  }

  /**
   * @param {Object} value
   */
  setStore = (value) => {
    this._validate();
    try {
      localStorage.setItem(this.key, JSON.stringify(value))
    } catch (err) {
      console.warn(err);
    }
  }

  _validate = () => {
    if (!this.key) throw new Error('local storage key is required');
  }
}

/***/ }),

/***/ "./src/stores/OptionsStore.js":
/*!************************************!*\
  !*** ./src/stores/OptionsStore.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   optionsStore: () => (/* binding */ optionsStore)
/* harmony export */ });
/* harmony import */ var _BaseStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseStore */ "./src/stores/BaseStore.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ "./src/constants.js");



class OptionsStore extends _BaseStore__WEBPACK_IMPORTED_MODULE_0__.BaseStore {
  /** @override */
  get key() {
    return "pt-options"
  }

  _defaultValue = {
    order: _constants__WEBPACK_IMPORTED_MODULE_1__.ORDER.ANY,
    selectedExercises: {
      [_constants__WEBPACK_IMPORTED_MODULE_1__.EXERCISE.VER_CONJUGATION]: true,
      [_constants__WEBPACK_IMPORTED_MODULE_1__.EXERCISE.VIR_CONJUGATION]: true,
      [_constants__WEBPACK_IMPORTED_MODULE_1__.EXERCISE.VER_AND_VIR]: true,
      [_constants__WEBPACK_IMPORTED_MODULE_1__.EXERCISE.FAZER_CONJUGATION]: true,
      [_constants__WEBPACK_IMPORTED_MODULE_1__.EXERCISE.WEAK_PHRASES]: true,
      [_constants__WEBPACK_IMPORTED_MODULE_1__.EXERCISE.VOCAB]: true,
    },
    mode: _constants__WEBPACK_IMPORTED_MODULE_1__.MODE.READING,
  };

  _state = (() => {
    const stored = this.getStore()
    if (!stored) {
      return { ...this._defaultValue }
    }
    return {
      ...this._defaultValue,
      ...stored,
    }
  })();

  /**
   * @returns {ORDER}
   */
  getOrder = () => this._state.order;

  /**
   * @param {ORDER} val
   */
  setOrder = (val) => {
    this._state.order = val;
    this.setStore(this._state);
  }

  /**
   * @returns {Record<EXERCISE, boolean>}
   */
  getSelectedExercises = () => ({
    ...this._defaultValue.selectedExercises,
    ...this._state.selectedExercises,
  });

  /**
   * @param {string} exercise
   * @param {boolean} isSelected
   */
  setSelectedExercise = (exercise, isSelected) => {
    this._state.selectedExercises[exercise] = isSelected;
    this.setStore(this._state);
  }

  /**
   * @returns {MODE}
   */
  getMode = () => this._state.mode;

  /**
   * @param {MODE} mode
   */
  setMode = (mode) => {
    this._state.mode = mode;
    this.setStore(this._state);
  }

  reset = () => {
    this.clearStore();
    this._state = { ...this._defaultValue };
  }
}

const optionsStore = new OptionsStore();


/***/ }),

/***/ "./src/stores/QuestionsStore.js":
/*!**************************************!*\
  !*** ./src/stores/QuestionsStore.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   questionsStore: () => (/* binding */ questionsStore)
/* harmony export */ });
/* harmony import */ var _BaseStore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseStore */ "./src/stores/BaseStore.js");


class QuestionsStore extends _BaseStore__WEBPACK_IMPORTED_MODULE_0__.BaseStore {
  /** @override */
  get key() {
    return "pt-questions"
  }

  /**
   * Snoozed = key-value pairs of hashed portuguese phrase (sha256), and timeSnoozeExpiresMs
   * ```snoozed: Record<string, number>```
   */
  _defaultValue = {
    snoozed: {},
  };

  _state = this.getStore() || { ...this._defaultValue };

  getSnoozedQuestions = () => ({ ...this._state.snoozed });

  /**
   * @param {string} hash
   * @param {number} snoozeDurationMs
   */
  snoozeQuestion = (hash, snoozeDurationMs) => {
    if (!hash) {
      return false;
    }
    const now = Date.now();
    const timeSnoozeExpiresMs = now + snoozeDurationMs;
    this._state.snoozed[hash] = timeSnoozeExpiresMs;
    this.setStore(this._state);
    return true;
  }

  unsnoozeAllQuestions = () => {
    this._state.snoozed = {};
    this.setStore(this._state);
  }

  reset = () => {
    this.clearStore();
    this._state = { ...this._defaultValue };
  }
}

const questionsStore = new QuestionsStore();



/***/ }),

/***/ "./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   assert: () => (/* binding */ assert),
/* harmony export */   getRandomElement: () => (/* binding */ getRandomElement),
/* harmony export */   markifyText: () => (/* binding */ markifyText),
/* harmony export */   removeArrayElement: () => (/* binding */ removeArrayElement),
/* harmony export */   requireById: () => (/* binding */ requireById),
/* harmony export */   requireFirstChild: () => (/* binding */ requireFirstChild),
/* harmony export */   sha256: () => (/* binding */ sha256),
/* harmony export */   shuffleArray: () => (/* binding */ shuffleArray)
/* harmony export */ });

/**
 * @template T
 * @param {Array.<T>} array
 * @returns {Array.<T>}
 */
function shuffleArray(array) {
  /** @type {Array.<T>} */
  const copy = array.slice()
  for (let i = copy.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    const temp = copy[i];
    if (!temp) continue;
    if (!copy[j]) continue;
    copy[i] = copy[j];
    copy[j] = temp;
  }
  return copy;
}

/**
 * @template T
 * @param {Array.<T>} arr
 * @returns {T}
 */
function getRandomElement(arr) {
  const randomIndex = Math.floor(Math.random() * arr.length);
  const elem = arr[randomIndex];
  if (!elem) throw new Error('something went terribly wrong');
  return elem;
}

/**
 * @param {any|(() => boolean)} condition
 * @param {?string} optText
 */
function assert(condition, optText) {
  const result = typeof condition === 'function' ? condition() : condition
  if (!result) {
    throw new Error(optText || 'Assertion Failed!');
  }
}

/**
 * @param {string} id
 * @returns {HTMLElement}
 */
function requireById(id) {
  const elem = document.getElementById(id);
  if (!elem) throw new Error(`Could not find DOM element with id "${id}"!!`);
  return elem;
}

/**
 * @param {HTMLElement} node
 * @returns {Element}
 */
function requireFirstChild(node) {
  const elem = node.children[0]
  if (!elem) throw new Error(`Could not get child from DOM element ${node}`)
  return elem;
}

/**
 * @template T
 * @param {Array.<T>} items
 * @param {number} index
 * @returns {Array.<T>}
 */
function removeArrayElement(items, index = -1) {
  if (index < 0) return items;
  if (index >= items.length) return items;
  return items.slice(0, index).concat(items.slice(index + 1))
}

async function sha256(message = '') {
  const msgUint8 = new TextEncoder().encode(message); // encode as (utf-8) Uint8Array
  const hashBuffer = await window.crypto.subtle.digest("SHA-256", msgUint8); // hash the message
  const hashArray = Array.from(new Uint8Array(hashBuffer)); // convert buffer to byte array
  const hashHex = hashArray
    .map((b) => b.toString(16).padStart(2, "0"))
    .join(""); // convert bytes to hex string
  return hashHex;
}

/**
 * @param {string} text
 * @returns string
 */
function markifyText(text) {
  // https://regex101.com/r/epZo6M/1
  const regBold = /(?<!\S)\*\*(.+?)\*\*(?!\*)(?!\S)/g
  // https://regex101.com/r/nkYFpp/1
  const regEm = /(?<!\S)\_(.+?)\_(?!\S)/g
  const newline = /\s*\\n\s*/g;
  return text
    .replace(regBold, "<strong class=\"accent\">$1</strong>")
    .replace(regEm, "<em class=\"subtle\">$1</em>")
    .replace(newline, "<br/>")
}


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app */ "./src/app.js");


})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z2FtZS8uL3NyYy9yZXNvdXJjZXMvY29uanVnYXRpb24tZmF6ZXIueWFtbCIsIndlYnBhY2s6Ly9wb3J0dWd1ZXNlLWdhbWUvLi9zcmMvcmVzb3VyY2VzL2Nvbmp1Z2F0aW9uLXZlci12aXIueWFtbCIsIndlYnBhY2s6Ly9wb3J0dWd1ZXNlLWdhbWUvLi9zcmMvcmVzb3VyY2VzL3ZvY2FiLnlhbWwiLCJ3ZWJwYWNrOi8vcG9ydHVndWVzZS1nYW1lLy4vc3JjL3Jlc291cmNlcy93ZWFrLXBocmFzZXMueWFtbCIsIndlYnBhY2s6Ly9wb3J0dWd1ZXNlLWdhbWUvLi9zcmMvTG9nZ2VyLmpzIiwid2VicGFjazovL3BvcnR1Z3Vlc2UtZ2FtZS8uL3NyYy9hcHAuanMiLCJ3ZWJwYWNrOi8vcG9ydHVndWVzZS1nYW1lLy4vc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wb3J0dWd1ZXNlLWdhbWUvLi9zcmMva2V5Ym9hcmRVdGlscy5qcyIsIndlYnBhY2s6Ly9wb3J0dWd1ZXNlLWdhbWUvLi9zcmMvc3BlYWsuanMiLCJ3ZWJwYWNrOi8vcG9ydHVndWVzZS1nYW1lLy4vc3JjL3N0b3Jlcy9CYXNlU3RvcmUuanMiLCJ3ZWJwYWNrOi8vcG9ydHVndWVzZS1nYW1lLy4vc3JjL3N0b3Jlcy9PcHRpb25zU3RvcmUuanMiLCJ3ZWJwYWNrOi8vcG9ydHVndWVzZS1nYW1lLy4vc3JjL3N0b3Jlcy9RdWVzdGlvbnNTdG9yZS5qcyIsIndlYnBhY2s6Ly9wb3J0dWd1ZXNlLWdhbWUvLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vcG9ydHVndWVzZS1nYW1lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3BvcnR1Z3Vlc2UtZ2FtZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcG9ydHVndWVzZS1nYW1lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vcG9ydHVndWVzZS1nYW1lL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcG9ydHVndWVzZS1nYW1lLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtwcmVzZW50Olt7cHI6J0V1ICoqZmHDp28qKiB1bWEgdmlhZ2VtJyxlbjonSSAqKm1ha2UqKiBhIGpvdXJuZXknfSx7cHI6J1F1ZSBkaWZlcmVuw6dhIGZhej8nLGVuOidXaGF0IGRpZmZlcmVuY2UgZG9lcyBpdCBtYWtlPyd9LHtwcjonQSDDum5pY2EgaGlzdMOzcmlhIHF1ZSB0ZW0gdmFsb3Igw6kgYSBoaXN0w7NyaWEgcXVlICoqZmF6ZW1vcyoqIGhvamUnLGVuOidUaGUgb25seSBoaXN0b3J5IHRoYXRcXCdzIHdvcnRoIGEgZGFtbiBpcyB0aGUgaGlzdG9yeSAqKndlIG1ha2UqKiB0b2RheSd9LHtwcjonUmVwYXJlIG5vcyBwZXF1ZW5vcyBkZXRhbGhlczsgZWxlcyAqKmZhemVtKiogdG9kYSBhIGRpZmVyZW7Dp2EnLGVuOidUYWtlIG5vdGljZSBvZiB0aGUgc21hbGwgZGV0YWlsczsgdGhleSAqKm1ha2UqKiBhbGwgdGhlIGRpZmZlcmVuY2UnfV0saW1wZXJmZWN0Olt7cHI6J1ZlciBzZXUgZmlsbWUgZmF2b3JpdG8gc2VtcHJlIGEgKipmYXppYSoqIHNlbnRpci1zZSBub3N0w6FsZ2ljYSBlIGFjb2xoaWRhJyxlbjonV2F0Y2hpbmcgaGVyIGZhdm9yaXRlIG1vdmllIGFsd2F5cyAqKm1hZGUqKiBoZXIgZmVlbCBub3N0YWxnaWMgYW5kIHdhcm0nfSx7cHI6J08gbG9uZ28gaW50ZXJ2YWxvIGVudHJlIGNhZGEgb25kYSAqKmZhemlhKiogYSBwcmFpYSBwYXJlY2VyIHRyYW5xdWlsYScsZW46J1RoZSBzdHJldGNoaW5nIHRpbWUgYmV0d2VlbiBlYWNoIHdhdmUgKiptYWRlKiogdGhlIGJlYWNoIGZlZWwgcGVhY2VmdWwnfSx7cHI6J05vIGVudGFudG8sICoqZmF6w61hbW9zKiogbyBxdWUgZXJhIHBvc3PDrXZlbCBlbSBjYWRhIGpvZ28nLGVuOidIb3dldmVyLCAqKndlIGRpZCoqIHdoYXQgd2FzIHBvc3NpYmxlIGluIGV2ZXJ5IGdhbWUnfSx7cHI6J0FpbmRhIGFzc2ltLCBwYXJlY2lhIHVtIHBlcXVlbm8gYXZhbsOnbyBlbSByZWxhw6fDo28gYW8gcXVlICoqZmF6w61hbW9zKionLGVuOidTdGlsbCwgaXQgc2VlbWVkIGEgc21hbGwgaW1wcm92ZW1lbnQgb3ZlciB3aGF0ICoqd2Ugd2VyZSBkb2luZyoqJ30se3ByOidTZXVzIGluc3RpbnRvcyBhdGVudG9zICoqZmF6aWFtKiogZGVsYSB1bWEgw7N0aW1hIGzDrWRlciBlbSBzaXR1YcOnw7VlcyBjcsOtdGljYXMnLGVuOidIZXIgb2JzZXJ2YW50IGluc3RpbmN0cyAqKm1hZGUqKiBoZXIgYSBncmVhdCBsZWFkZXIgaW4gY3JpdGljYWwgc2l0dWF0aW9ucy4nfV0scHJldGVyaXRlOlt7cHI6J09udGVtIMOgIG5vaXRlLCBmaXogdW0gaW50ZXJjw6JtYmlvIGRlIHJlY2VpdGFzIGNvbSBtaW5oYSB2aXppbmhhJyxlbjonSSBzd2FwcGVkIHJlY2lwZXMgd2l0aCBteSBuZWlnaGJvciBsYXN0IG5pZ2h0IFxcXFxuIF8obWFkZSBhbiBleGNoYW5nZSlfJ30se3ByOidOw6NvIGZvaSBuYWRhIGNvbXBhcmFkbyBhbyBlc2ZvcsOnbyBxdWUgKipmaXoqKiBubyBhbm8gcGFzc2FkbycsZW46J0l0IHdhcyBub3RoaW5nIGNvbXBhcmVkIHRvIHRoZSBlZmZvcnQgKipJIHB1dCBpbioqIGxhc3QgeWVhcid9LHtwcjonRnVpIGFvIG1lcmNhZG8gb250ZW0gZSAqKmZpeiBlc3RvcXVlKiogZGUgdG9kb3Mgb3MgbWV1cyBwcm9kdXRvcyBmYXZvcml0b3MnLGVuOidJIHdlbnQgZ3JvY2VyeSBzaG9wcGluZyB5ZXN0ZXJkYXkgYW5kICoqc3RvY2tlZCB1cCoqIG9uIGFsbCBteSBmYXZvcml0ZXMnfSx7cHI6J08gYWJyYcOnbyBkZWxhIG8gKipmZXoqKiBzZW50aXItc2Ugc2VndXJvIGUgYW1hZG8gbmFxdWVsZSBtb21lbnRvJyxlbjonSGVyIGVtYnJhY2luZyAqKm1hZGUqKiBoaW0gZmVlbCBzYWZlIGFuZCBsb3ZlZCBpbiB0aGF0IG1vbWVudCd9LHtwcjonQXBlc2FyIGRhIGVzdHJhZGEgZXNidXJhY2FkYSwgKipmaXplbW9zKiogw7N0aW1hcyBsZW1icmFuw6dhcyBlbSBub3NzYSB2aWFnZW0nLGVuOidEZXNwaXRlIHRoZSBidW1weSByb2FkLCB3ZSAqKm1hZGUqKiBncmVhdCBtZW1vcmllcyBvbiBvdXIgam91cm5leSd9LHtwcjonRWxlcyAqKmZpemVyYW0qKiB1bWEgc2HDrWRhIHLDoXBpZGEgZGEgZmVzdGEgYW50ZXMgcXVlIGFsZ3XDqW0gbm90YXNzZScsZW46J1RoZXkgKiptYWRlKiogYSBzd2lmdCBlc2NhcGUgZnJvbSB0aGUgcGFydHkgYmVmb3JlIGFueW9uZSBub3RpY2VkJ31dLHByZXNlbnRQZXJmZWN0Olt7cHI6J08gcXVlIHRlbmhvIGRlICoqZmF6ZXIqKiBwYXJhIHRlIGRlaXhhciBmZWxpej8nLGVuOidXaGF0IGRvIEkgaGF2ZSB0byBkbyAqKnRvIG1ha2UqKiB5b3UgaGFwcHk/J30se3ByOidUZW5obyBxdWUgKipmYXplcioqIGRpbmhlaXJvJyxlbjonSSBoYXZlICoqdG8gbWFrZSoqIHRoZSBtb25leSd9XSxmdXR1cmU6bnVsbCxwcmVzZW50U3VianVuY3RpdmU6bnVsbH07IiwiZXhwb3J0IGRlZmF1bHQge3Zlcjp7cHJlc2VudDpbe3ByOidldSB2ZWpvIG8gc29sIHRvZG9zIG9zIGRpYXMnLGVuOidJIHNlZSB0aGUgc3VuIGV2ZXJ5IGRheSd9LHtwcjonZWxlIHbDqiBvcyBww6Fzc2Fyb3Mgdm9hbmRvJyxlbjonaGUgc2VlcyB0aGUgYmlyZHMgZmx5aW5nJ30se3ByOiduw7NzIHZlbW9zIG8gbWFyIGRhcXVpJyxlbjond2Ugc2VlIHRoZSBzZWEgZnJvbSBoZXJlJ30se3ByOidlbGVzIHZlZW0gb3MgYW5pbWFpcyBuYSBmbG9yZXN0YScsZW46J3RoZXkgc2VlIHRoZSBhbmltYWxzIGluIHRoZSBmb3Jlc3QnfV0saW1wZXJmZWN0Olt7cHI6J2V1IHZpYSBvcyBjYXJyb3MgcGFzc2FyZW0gbmEgcnVhJyxlbjonSSB1c2VkIHRvIHNlZSB0aGUgY2FycyBwYXNzaW5nIGluIHRoZSByb2FkJ30se3ByOidlbGUgdmlhIG9zIGFuaW1haXMgbmEgZmxvcmVzdGEnLGVuOidoZSB1c2VkIHRvIHNlZSB0aGUgYW5pbWFscyBpbiB0aGUgZm9yZXN0J30se3ByOiduw7NzIHbDrWFtb3MgbyBww7RyIGRvIHNvbCBuYSBwcmFpYScsZW46J3dlIHVzZWQgdG8gc2VlIHRoZSBzdW5zZXQgb24gdGhlIGJlYWNoJ30se3ByOidlbGVzIHZpYW0gYSBsdWEgbm8gY8OpdScsZW46J3RoZXkgdXNlZCB0byBzZWUgdGhlIG1vb24gaW4gdGhlIHNreSd9XSxwcmV0ZXJpdGU6W3twcjonZXUgdmkgbyBmaWxtZSBvbnRlbScsZW46J0kgc2F3IHRoZSBmaWxtIHllc3RlcmRheSd9LHtwcjonZWxlIHZpdSBvIHRyZW0gcGFzc2FyJyxlbjonaGUgc2F3IHRoZSB0cmFpbiBwYXNzJ30se3ByOiduw7NzIHZpbW9zIG8gbWFyIGFnaXRhZG8nLGVuOid3ZSBzYXcgdGhlIHJvdWdoIHNlYSd9LHtwcjonZWxlcyB2aXJhbSBvIGVjbGlwc2UgZGEgbHVhJyxlbjondGhleSBzYXcgdGhlIGVjbGlwc2Ugb2YgdGhlIG1vb24nfV0scHJlc2VudFBlcmZlY3Q6W3twcjonZXUgdGVuaG8gdmlzdG8gbXVpdG9zIGZpbG1lcyBib25zJyxlbjonSSBoYXZlIHNlZW4gbWFueSBnb29kIGZpbG1zJ30se3ByOidlbGUgdGVtIHZpc3RvIG11aXRhcyBlc3RyZWxhcyDDoCBub2l0ZScsZW46J2hlIGhhcyBzZWVuIG1hbnkgc3RhcnMgYXQgbmlnaHQnfSx7cHI6J27Ds3MgdGVtb3MgdmlzdG8gbyBww7RyIGRvIHNvbCBqdW50b3MnLGVuOid3ZSBoYXZlIHNlZW4gdGhlIHN1bnNldCB0b2dldGhlcid9LHtwcjonZWxlcyB0w6ptIHZpc3RvIG9zIGZvZ29zIGRlIGFydGlmw61jaW8gbm8gY8OpdScsZW46J3RoZXkgaGF2ZSBzZWVuIHRoZSBmaXJld29ya3MgaW4gdGhlIHNreSd9XSxmdXR1cmU6W3twcjonZXUgdmVyZWkgbyBuYXNjZXIgZG8gc29sIGFtYW5ow6MnLGVuOidJIHdpbGwgc2VlIHRoZSBzdW5yaXNlIHRvbW9ycm93J30se3ByOidlbGUgdmVyw6Egb3MgZm9nb3MgZGUgYXJ0aWbDrWNpbyBubyByZXZlaWxsb24nLGVuOidIZSB3aWxsIHNlZSB0aGUgZmlyZXdvcmtzIG9uIE5ldyBZZWFyXFwncyBFdmUnfSx7cHI6J27Ds3MgdmVyZW1vcyBvIG1hciBhenVsIG5hIHZpYWdlbScsZW46J3dlIHdpbGwgc2VlIHRoZSBibHVlIHNlYSBvbiB0aGUgam91cm5leSd9LHtwcjonZWxlcyB2ZXLDo28gYXMgZmxvcmVzIG5vIGphcmRpbScsZW46J3RoZXkgd2lsbCBzZWUgdGhlIGZsb3dlcnMgaW4gdGhlIGdhcmRlbid9XSxwcmVzZW50U3VianVuY3RpdmU6W3twcjondm9jw6ogcXVlciBxdWUgZXUgKip2ZWphKiogcXVhbCDDqSBvIHByb2JsZW1hPycsZW46J2RvIHlvdSB3YW50IG1lICoqdG8gc2VlKiogd2hhdCB0aGUgcHJvYmxlbSBpcz8nfSx7cHI6J3ZvY8OqIHF1ZXIgcXVlIHVtIG1lY2hhbmljYSAqKnZlamEqKiBxdWFsIMOpIG8gcHJvYmxlbWE/JyxlbjonZG8geW91IHdhbnQgYSBtZWNoYW5pYyAqKnRvIHNlZSoqIHdoYXQgdGhlIHByb2JsZW0gaXM/J30se3ByOid2b2PDqiBxdWVyIHF1ZSBuw7NzICoqdmVqYW1vcyoqIHF1YWwgw6kgbyBwcm9ibGVtYT8nLGVuOidkbyB5b3Ugd2FudCB1cyAqKnRvIHNlZSoqIHdoYXQgdGhlIHByb2JsZW0gaXM/J30se3ByOid2b2PDqiBxdWVyIHF1ZSBlbGVzICoqdmVqYW0qKiBxdWFsIMOpIG8gcHJvYmxlbWE/JyxlbjonZG8geW91IHdhbnQgdGhlbSAqKnRvIHNlZSoqIHdoYXQgdGhlIHByb2JsZW0gaXM/J31dfSx2aXI6e3ByZXNlbnQ6W3twcjonZXUgdmVuaG8gc2VtcHJlIGFvIHBhcnF1ZScsZW46J0kgYWx3YXlzIGNvbWUgdG8gdGhlIHBhcmsnfSx7cHI6J2V1IHRlbmhvIHNhdGlzZmHDp8OjbyBxdWFuZG8gZXUgdmVuaG8gYXF1aScsZW46J0kgaGF2ZSBzYXRpc2ZhY3Rpb24gd2hlbiBJIGNvbWUgaGVyZSd9LHtwcjonZWxhIHZlbSBtYWlzIHRhcmRlJyxlbjonc2hlIGNvbWVzIGxhdGVyJ30se3ByOiduw7NzIHZpbW9zIG8gZmlsbWUganVudG9zJyxlbjond2Ugc2VlIHRoZSBmaWxtIHRvZ2V0aGVyJ30se3ByOidlbGVzIHbDqm0gZGUgbG9uZ2UnLGVuOid0aGV5IGNvbWUgZnJvbSBhZmFyJ31dLGltcGVyZmVjdDpbe3ByOidldSB2aW5oYSBhbyBwYXJxdWUgdG9kb3Mgb3MgZGlhcycsZW46J0kgdXNlZCB0byBjb21lIHRvIHRoZSBwYXJrIGV2ZXJ5IGRheSd9LHtwcjonZWxlIHZpbmhhIGxlciBhcXVpIMOgIHRhcmRlJyxlbjonaGUgdXNlZCB0byBjb21lIHJlYWQgaGVyZSBpbiB0aGUgYWZ0ZXJub29uJ30se3ByOiduw7NzIHZpbmhhbW9zIHNlbXByZSBhbnRlcyBkbyBqYW50YXInLGVuOid3ZSB1c2VkIHRvIGFsd2F5cyBjb21lIGJlZm9yZSBkaW5uZXInfSx7cHI6J2VsZXMgdmluaGFtIGpvZ2FyIGZ1dGVib2wgdG9kYXMgYXMgdGFyZGVzJyxlbjondGhleSB1c2VkIHRvIGNvbWUgcGxheSBzb2NjZXIgZXZlcnkgYWZ0ZXJub29uJ31dLHByZXRlcml0ZTpbe3ByOidldSB2aW0gw6AgcHJhaWEgaG9qZScsZW46J0kgY2FtZSB0byB0aGUgYmVhY2ggdG9kYXknfSx7cHI6J2VsZSB2ZWlvIGFqdWRhciBhIGF2w7MnLGVuOidoZSBjYW1lIHRvIGhlbHAgaGlzIGdyYW5kbW90aGVyJ30se3ByOiduw7NzIHZpZW1vcyBhbG1vw6dhciBjb250aWdvJyxlbjond2UgY2FtZSB0byBoYXZlIGx1bmNoIHdpdGggeW91J30se3ByOidlbGVzIHZpZXJhbSByw6FwaWRvIGRlbWFpcycsZW46J3RoZXkgY2FtZSB0b28gZmFzdCd9XSxwcmVzZW50UGVyZmVjdDpbe3ByOidldSB0ZWhubyB2aW5kbyBhcXVpIGNvbSBmcmVxdcOqbmNpYScsZW46J0kgaGF2ZSBiZWVuIGNvbWluZyBoZXJlIG9mdGVuJ30se3ByOidlbGUgdGVtIHZpbmRvIGFqdWRhciBvcyBvdXRyb3MnLGVuOidoZSBoYXMgYmVlbiBjb21pbmcgdG8gaGVscCBvdGhlcnMnfSx7cHI6J27Ds3MgdGVtb3MgdmluZG8gcGFzc2VhciBubyBwYXJxdWUnLGVuOid3ZSBoYXZlIGJlZW4gY29taW5nIGZvciBhIHdhbGsgaW4gdGhlIHBhcmsnfSx7cHI6J2VsZXMgdMOqbSB2aW5kbyBicmluY2FyIG5vIHBhcnF1ZScsZW46J3RoZXkgaGF2ZSBiZWVuIGNvbWluZyB0byBwbGF5IGluIHRoZSBwYXJrJ31dLGZ1dHVyZTpbe3ByOidldSB2aXJlaSBidXNjYXIgdm9jw6ogbWFpcyB0YXJkZScsZW46J0kgd2lsbCBjb21lIGZpbmQgeW91IGxhdGVyJ30se3ByOidlbGUgdmlyw6EgYWp1ZGFyIG5hIGZlc3RhJyxlbjonaGUgd2lsbCBjb21lIGhlbHAgYXQgdGhlIHBhcnR5J30se3ByOiduw7NzIHZpcmVtb3MgamFudGFyIGp1bnRvcycsZW46J3dlIHdpbGwgY29tZSB0byBkaW5uZXIgdG9nZXRoZXInfSx7cHI6J2VsZXMgdmlyw6NvIG5vIHByw7N4aW1vIGZpbmFsIGRlIHNlbWFuYScsZW46J3RoZXkgd2lsbCBjb21lIG5leHQgd2Vla2VuZCd9XSxwcmVzZW50U3VianVuY3RpdmU6W3twcjonw4kgbWVsaG9yIHF1ZSBldSAqKnZlbmhhKiogbWFpcyBjZWRvIGFtYW5ow6MnLGVuOidJdCBpcyBiZXR0ZXIgdGhhdCBJICoqY29tZSoqIGVhcmxpZXIgdG9tb3Jyb3cgXFxcXG4gXyhJIGJldHRlciBjb21lIGVhcmx5IHRvbW9ycm93KV8nfSx7cHI6J8OJIG1lbGhvciBxdWUgdm9jw6ogKip2ZW5oYSoqIG1haXMgY2VkbyBhbWFuaMOjJyxlbjonSXQgaXMgYmV0dGVyIHRoYXQgeW91ICoqY29tZSoqIGVhcmxpZXIgdG9tb3Jyb3cgXFxcXG4gXyhZb3UgYmV0dGVyIGNvbWUgZWFybHkgdG9tb3Jyb3cpXyd9LHtwcjonw4kgbWVsaG9yIHF1ZSAqKnZlbmhhbW9zKiogbWFpcyBjZWRvIGFtYW5ow6MnLGVuOidJdCBpcyBiZXR0ZXIgdGhhdCB3ZSAqKmNvbWUqKiBlYXJsaWVyIHRvbW9ycm93IFxcXFxuIF8oV2UgYmV0dGVyIGNvbWUgZWFybHkgdG9tb3Jyb3cpXyd9LHtwcjonw4kgbWVsaG9yIHF1ZSBlbGVzICoqdmVuaGFtKiogbWFpcyBjZWRvIGFtYW5ow6MnLGVuOidJdCBpcyBiZXR0ZXIgdGhhdCB0aGV5ICoqY29tZSoqIGVhcmxpZXIgdG9tb3Jyb3cgXFxcXG4gXyhUaGV5IGJldHRlciBjb21lIGVhcmx5IHRvbW9ycm93KV8nfV19LHZlcl9hbmRfdmlyOntwcmVzZW50Olt7cHI6J3NlbXByZSBxdWUgZXUgKip2ZW5obyoqIGFvIGphcmRpbSwgKip2ZWpvKiogbXVpdGFzIGZsb3JlcycsZW46J3doZW4gSSAqKmNvbWUqKiB0byB0aGUgZ2FyZGVuLCBJIGFsd2F5cyAqKnNlZSoqIG1hbnkgZmxvd2Vycyd9LHtwcjonc2VtcHJlIHF1ZSBlbGUgKip2ZW0qKiBhbyBwYXJxdWUsICoqdsOqKiogYWxndW5zIHBhc3Nhcm9zJyxlbjond2hlbiBoZSAqKmNvbWVzKiogdG8gdGhlIHBhcmssIGhlIGFsd2F5cyAqKnNlZXMqKiBzb21lIGJpcmRzJ30se3ByOidzZW1wcmUgcXVlIG7Ds3MgKip2aW1vcyoqIGEgcHJhaWEsICoqdmVtb3MqKiBjcmlhbsOnYXMgYnJpbmNhbmRvJyxlbjond2hlbiB3ZSAqKmNvbWUqKiB0byB0aGUgYmVhY2gsIHdlIGFsd2F5cyAqKnNlZSoqIGtpZHMgcGxheWluZyd9LHtwcjonc2VtcHJlIHF1ZSBlbGFzICoqdsOqbSoqIGEgZmF2ZWxhLCAqKnZlZW0qKiBhbGd1bnMgY2FjaG9ycm9zIGJyaW5jYW5kbycsZW46J3doZW4gdGhleSAqKmNvbWUqKiB0byB0aGUgZmF2ZWxhLCB0aGV5IGFsd2F5cyAqKnNlZSoqIHNvbWUgZG9ncyBwbGF5aW5nJ31dLGltcGVyZmVjdDpbe3ByOidBbnRpZ2FtZW50ZSwgcXVhbmRvIGV1ICoqdmluaGEqKiBhbyBwYXJxdWUsICoqdmlhKiogbWFpcyBmYW3DrWxpYXMgZmF6ZW5kbyBwaXF1ZW5pcXVlJyxlbjonSW4gdGhlIHBhc3QsIHdoZW4gSSAqKmNhbWUqKiB0byB0aGUgcGFyaywgSSAqKnNhdyoqIG1vcmUgZmFtaWxpZXMgaGF2aW5nIHBpY25pY3MnfSx7cHI6J0FudGlnYW1lbnRlLCBxdWFuZG8gZWxlICoqdmluaGEqKiBhbyBwYXJxdWUsICoqdmlhKiogbWFpcyBjcmlhbsOnYXMgZW1waW5hZG8gcGlwYScsZW46J0luIHRoZSBwYXN0LCB3aGVuIGhlICoqY2FtZSoqIHRvIHRoZSBwYXJrLCBoZSAqKnNhdyoqIG1vcmUga2lkcyBmbHlpbmcga2l0ZXMnfSx7cHI6J0FudGlnYW1lbnRlLCBxdWFuZG8gbm9zICoqdsOtbmhhbW9zKiogYW8gcGFycXVlLCAqKnbDrWFtb3MqKiBtYWlzIGNyaWFuw6dhcyBwdWxhbmRvIGNvcmRhJyxlbjonSW4gdGhlIHBhc3QsIHdoZW4gd2UgKipjYW1lKiogdG8gdGhlIHBhcmssIHdlICoqc2F3KiogbW9yZSBraWRzIGp1bXBpbmcgcm9wZSd9LHtwcjonQW50aWdhbWVudGUsIHF1YW5kbyBlbGVzICoqdmluaGFtKiogYW8gcGFycXVlLCAqKnZpYW0qKiBtYWlzIGNyaWFuw6dhcyBicmluY2FuZG8nLGVuOidJbiB0aGUgcGFzdCwgd2hlbiB0aGV5ICoqY2FtZSoqIHRvIHRoZSBwYXJrLCB0aGV5ICoqc2F3KiogbW9yZSBraWRzIHBsYXlpbmcnfV0scHJldGVyaXRlOlt7cHI6J09udGVtLCBxdWFuZG8gKip2aW0qKiBhbyBwYXJxdWUsIGV1ICoqdmkqKiB1bWEgY2FwaXZhcmEnLGVuOidZZXN0ZXJkYXksIHdoZW4gSSAqKmNhbWUqKiB0byB0aGUgcGFyaywgSSAqKnNhdyoqIGEgY2FweWJhcmEnfSx7cHI6J09udGVtLCBxdWFuZG8gKip2ZWlvKiogYSBmbG9yZXN0YSwgZWxlICoqdml1KiogdW0gdXJzbycsZW46J1llc3RlcmRheSwgd2hlbiBoZSAqKmNhbWUqKiB0byB0aGUgZm9yZXN0LCBoZSAqKnNhdyoqIGEgYmVhcid9LHtwcjonT250ZW0sIHF1YW5kbyAqKnZpZW1vcyoqIGFvIGphcmRpbSwgbm9zICoqdmltb3MqKiB1bWEgZmxvciBtYXJhdmlsaG9zYScsZW46J1llc3RlcmRheSwgd2hlbiB3ZSAqKmNhbWUqKiB0byB0aGUgZ2FyZGVuLCB3ZSAqKnNhdyoqIGFuIGFtYXppbmcgZmxvd2VyJ30se3ByOidPbnRlbSwgcXVhbmRvICoqdmllcmFtKiogYSBjaWRhZGUsIGVsZXMgKip2aXJhbSoqIHVtIGRlc2ZpbGUnLGVuOidZZXN0ZXJkYXksIHdoZW4gdGhleSAqKmNhbWUqKiB0byB0aGUgY2l0eSwgdGhleSAqKnNhdyoqIGEgcGFyYWRlJ30se3ByOidFdSAqKnZpbSoqIMOgIGNpZGFkZSBlICoqdmkqKiBtZXUgZmlsaG8nLGVuOidJICoqY2FtZSoqIHRvIHRoZSBjaXR5IGFuZCAqKnNhdyoqIG15IHNvbid9LHtwcjonRWxlICoqdmVpbyoqIMOgIGZlc3RhIGUgKip2aXUqKiBzdWEgbmFtb3JhZGEnLGVuOidIZSAqKmNhbWUqKiB0byB0aGUgcGFydHkgYW5kICoqc2F3KiogaGlzIGdpcmxmcmllbmQnfV19fTsiLCJleHBvcnQgZGVmYXVsdCBbe3ByOidTb2NvcnJvIScsZW46J0hlbHAhJ30se3ByOidTdW5nYScsZW46J1N3aW1zdWl0J30se3ByOidDb21wcm9taXNzbycsZW46J01lZXRpbmcnfV07IiwiZXhwb3J0IGRlZmF1bHQgW3twcjonRWxlIMOpIHVtIGNvbGVjaW9uYWRvciBxdWUgY29sZWNpb25hIGl0ZW5zJyxlbjonSGUgaXMgYSBjb2xsZWN0b3Igd2hvIGNvbGxlY3RzIGl0ZW1zJ30se3ByOidUZW5obyB1bWEgY29sZcOnw6NvJyxlbjonSSBoYXZlIGEgY29sbGVjdGlvbid9LHtwcjonVm91ICoqZ2FuaGFyKiogbWFpcyBkaW5oZWlybyBuYXF1ZWxhIGhvcmEnLGVuOidJIHdpbGwgKipnZXQqKiBtb3JlIG1vbmV5IGF0IHRoYXQgdGltZSd9LHtwcjonRm9pIGVzY3VybyBsw6EgZm9yYScsZW46J0l0IHdhcyBkYXJrIG91dHNpZGUnfSx7cHI6J0VzdMOhIGZpY2FuZG8gb3NjdXJvIGzDoSBmb3JhJyxlbjonSXQgaXMgZ2V0dGluZyBkYXJrIG91dHNpZGUnfSx7cHI6J1ZlbmhhIG1lIGNvbmhlY2VyIGFsZ3VtIGRpYScsZW46J0NvbWUgYW5kIG1lZXQgbWUgc29tZSBkYXknfSx7cHI6J1ZlbmhhIG1lIHZlciBhbGd1bSBkaWEnLGVuOidDb21lIGFuZCBzZWUgbWUgc29tZSBkYXknfSx7cHI6J07Do28gcGVyY2EgYSBmw6knLGVuOidEbyBub3QgbG9zZSBmYWl0aCd9LHtwcjonRWxlIG7Do28gcGVyZGUgYSBmw6knLGVuOidIZSBkb2VzIG5vdCBsb3NlIGZhaXRoJ30se3ByOidFbGEgbWUgYXByZXNlbnRvdSBhbyBzZXUgbmFtb3JhZG8gbmEgZmVzdGEnLGVuOidTaGUgaW50cm9kdWNlZCBtZSB0byBoZXIgYm95ZnJpZW5kIGF0IHRoZSBwYXJ0eSd9LHtwcjonRWxlIGxldm91IG1ldSBjYXNhY28nLGVuOidIZSB0b29rIG15IGNvYXQnfSx7cHI6J0V1IHRlIGRvdSBlc3RlIHJlbMOzZ2lvIGNvbW8gdW0gcHJlc2VudGUnLGVuOidJIGdpdmUgdGhpcyB3YXRjaCB0byB5b3UgYXMgYSBnaWZ0J30se3ByOidFdSBzb25oZWkgdW0gc29uaG8gZGUgdW0gdGVtcG8gcGFzc2FkbycsZW46J0kgZHJlYW1lZCBhIGRyZWFtIG9mIHRpbWUgZ29uZSBieSd9LHtwcjonRXUgbWUgZGl2ZXJ0aSBtdWl0bycsZW46J0kgaGFkIGEgZ29vZCB0aW1lJ30se3ByOidGb2kgdW0gYm9tIG1vbWVudG8nLGVuOidJdCB3YXMgYSBnb29kIHRpbWUnfSx7cHI6J0VsZSB2ZWlvIGRlIGxvbmdlJyxlbjonSGUgY2FtZSBmcm9tIGZhciBhd2F5J30se3ByOidFc3RvdSB2aW5kbycsZW46J0kgYW0gY29taW5nJ30se3ByOidDb250aW51ZSBlbSBmcmVudGUsIHBvciBmYXZvcicsZW46J0tlZXAgZ29pbmcgZm9yd2FyZCwgcGxlYXNlJ30se3ByOidBIGx1eiDDqSBicmlsaGFudGUnLGVuOidUaGUgbGlnaHQgaXMgYnJpZ2h0J30se3ByOifDiSBmYXZvcsOhdmVsIHBhcmEgbsOzcyBpcm1vcycsZW46J0l0IGlzIGZhdm9yYWJsZSBmb3IgdXMgdG8gZ28nfSx7cHI6J0V1IHBlbnNlaSBxdWUgbm9zc28gKipjb21wcm9taXNzbyoqIHNlcmlhIG5hIHNlbWFuYSBxdWUgdmVtJyxlbjonSSB0aG91Z2h0IHRoYXQgb3VyICoqbWVldGluZyoqIHdhcyBuZXh0IHdlZWsnfSx7cHI6J0lzc28gbsOjbyBxdWVyIGRpemVyIG5hZGEnLGVuOidUaGlzIGRvZXNuXFwndCBtZWFuIGFueXRoaW5nJ30se3ByOidFbGVzIG1lICoqZMOjbyoqIGFycm96JyxlbjonVGhleSAqKmdpdmUqKiBtZSByaWNlJ30se3ByOidFbGUgbsOjbyBkZXZlIHZpciBhcXVpIG5vdmFtZW50ZScsZW46J0hlIG11c3Qgbm90IGNvbWUgaGVyZSBhZ2Fpbid9LHtwcjonSMOhIG91dHJvcyBmYXRvcmVzIHF1ZSBub3MgZmF6ZW0gcGVuc2FyIGFzc2ltJyxlbjonVGhlcmUgYXJlIG90aGVyIGZhY3RvcnMgdGhhdCBtYWtlIHVzIHRoaW5rIGxpa2UgdGhhdCd9LHtwcjonRWxhIG5vcyBleHBsb3JhJyxlbjonU2hlIGV4cGxvaXRzIHVzJ30se3ByOidPIHJlc3RhdXJhbnRlIGZpY2EgZW0gZnJlbnRlIMOgIGVzY29sYScsZW46J1RoZSByZXN0YXVyYW50IGlzIGluIGZyb250IG9mIHRoZSBzY2hvb2wnfSx7cHI6J0VzdGUgw6kgbWV1IHRpcG8gZGUgcGVyc29uYWdlbScsZW46J1RoaXMgaXMgbXkgdHlwZSBvZiBjaGFyYWN0ZXInfSx7cHI6J0V1IG7Do28gdmVqbyBtaW5oYSBuYW1vcmFkYSBow6EgZHVhcyBzZW1hbmFzJyxlbjonSSBoYXZlIG5vdCBzZWVuIG15IGdpcmxmcmllbmQgZm9yIHR3byB3ZWVrcyd9LHtwcjonQ29tbyB0ZW0gcGFzc2FkbyBvIHNldSBwYWk/JyxlbjonSG93IGhhcyB5b3VyIGZhdGhlciBiZWVuPyd9LHtwcjonTWV1IGZpbGhvIHRlbSBtZSBwZXJndW50YWRvICoqY29pc2FzIGVzdHJhbmhhcyoqJyxlbjonTXkgc29uIGhhcyBiZWVuIGFza2luZyBtZSAqKnN0cmFuZ2UgcXVlc3Rpb25zKionfSx7cHI6J1RlbnRlIGRlc2NvYnJpciBzZSB0dWRvIHF1ZSBlbGUgZGlzc2Ugw6kgdmVyZGFkZScsZW46J1RyeSB0byBmaW5kIG91dCBpZiBldmVyeXRoaW5nIHRoYXQgaGUgc2FpZCBpcyB0cnVlJ30se3ByOidFbGUgbWUgY29udGEgdHVkbycsZW46J0hlIHRlbGxzIG1lIGV2ZXJ5dGhpbmcnfSx7cHI6J0V1IHNlZ3VyZWkgdW0gYmViw6kgZW0gbWV1cyBicmHDp29zJyxlbjonSSBoZWxkIGEgYmFieSBpbiBteSBhcm1zJ31dOyIsIlxuZXhwb3J0IGNvbnN0IExvZ2dlciA9IHtcbiAgX2VuYWJsZWQ6IGZhbHNlLFxuICBfZGVidWc6IGZhbHNlLFxuXG4gIGVuYWJsZSgpIHtcbiAgICBMb2dnZXIuX2VuYWJsZWQgPSB0cnVlO1xuICB9LFxuXG4gIGRpc2FibGUoKSB7XG4gICAgTG9nZ2VyLl9lbmFibGVkID0gZmFsc2U7XG4gIH0sXG5cbiAgZW5hYmxlRGVidWcoKSB7XG4gICAgTG9nZ2VyLl9kZWJ1ZyA9IHRydWU7XG4gIH0sXG5cbiAgZGlzYWJsZURlYnVnKCkge1xuICAgIExvZ2dlci5fZGVidWcgPSBmYWxzZTtcbiAgfSxcblxuICBkZWJ1ZyguLi5hcmdzKSB7XG4gICAgaWYgKCFMb2dnZXIuX2VuYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFMb2dnZXIuX2RlYnVnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xuICB9LFxuXG4gIGluZm8oLi4uYXJncykge1xuICAgIGlmICghTG9nZ2VyLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xuICB9LFxuXG4gIHdhcm4oLi4uYXJncykge1xuICAgIGlmICghTG9nZ2VyLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnNvbGUud2FybiguLi5hcmdzKTtcbiAgfSxcblxuICBlcnJvciguLi5hcmdzKSB7XG4gICAgLy8gYWx3YXlzIHNob3cgZXJyb3JzXG4gICAgY29uc29sZS5lcnJvciguLi5hcmdzKTtcbiAgfSxcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgY29uaiBmcm9tICcuL3Jlc291cmNlcy9jb25qdWdhdGlvbi12ZXItdmlyLnlhbWwnO1xuaW1wb3J0IGNvbmpGYXplciBmcm9tICcuL3Jlc291cmNlcy9jb25qdWdhdGlvbi1mYXplci55YW1sJztcbmltcG9ydCB3ZWFrUGhyYXNlcyBmcm9tICcuL3Jlc291cmNlcy93ZWFrLXBocmFzZXMueWFtbCc7XG5pbXBvcnQgdm9jYWIgZnJvbSAnLi9yZXNvdXJjZXMvdm9jYWIueWFtbCc7XG5cbmltcG9ydCB7IEVYRVJDSVNFLCBNT0RFLCBPTkVfSE9VUl9NUywgT1JERVIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc0NoYXJQcmVzc2VkLCBTcGVjaWFsS2V5IH0gZnJvbSAnLi9rZXlib2FyZFV0aWxzJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vTG9nZ2VyJztcbmltcG9ydCB7IHNwZWFrIH0gZnJvbSAnLi9zcGVhayc7XG5pbXBvcnQgeyBvcHRpb25zU3RvcmUgfSBmcm9tICcuL3N0b3Jlcy9PcHRpb25zU3RvcmUnO1xuaW1wb3J0IHsgcXVlc3Rpb25zU3RvcmUgfSBmcm9tICcuL3N0b3Jlcy9RdWVzdGlvbnNTdG9yZSc7XG5pbXBvcnQgeyBhc3NlcnQsIGdldFJhbmRvbUVsZW1lbnQsIG1hcmtpZnlUZXh0LCByZW1vdmVBcnJheUVsZW1lbnQsIHJlcXVpcmVCeUlkLCByZXF1aXJlRmlyc3RDaGlsZCwgc2hhMjU2LCBzaHVmZmxlQXJyYXkgfSBmcm9tICcuL3V0aWxzJztcblxuTG9nZ2VyLmVuYWJsZSgpO1xuTG9nZ2VyLmRpc2FibGVEZWJ1ZygpO1xuXG5jb25zdCBtYWluTm9kZSA9IHJlcXVpcmVCeUlkKCdtYWluJyk7XG5jb25zdCBjYXJkUXVlc3Rpb24gPSByZXF1aXJlQnlJZCgnY2FyZC1xdWVzdGlvbicpO1xuY29uc3QgY2FyZEFuc3dlciA9IHJlcXVpcmVCeUlkKCdjYXJkLWFuc3dlcicpO1xuY29uc3QgY2FyZFF1ZXN0aW9uQ29udGVudCA9IHJlcXVpcmVGaXJzdENoaWxkKGNhcmRRdWVzdGlvbilcbmNvbnN0IGNhcmRBbnN3ZXJDb250ZW50ID0gcmVxdWlyZUZpcnN0Q2hpbGQoY2FyZEFuc3dlcilcblxuYXNzZXJ0KGNhcmRRdWVzdGlvbkNvbnRlbnQsICdjYXJkUXVlc3Rpb25Db250ZW50IGRvZXMgbm90IGV4aXN0Jyk7XG5hc3NlcnQoY2FyZEFuc3dlckNvbnRlbnQsICdjYXJkQW5zd2VyQ29udGVudCBkb2VzIG5vdCBleGlzdCcpO1xuXG5jb25zdCBidXR0b25QcmV2ID0gcmVxdWlyZUJ5SWQoJ2J1dHRvbi1wcmV2Jyk7XG5jb25zdCBidXR0b25OZXh0ID0gcmVxdWlyZUJ5SWQoJ2J1dHRvbi1uZXh0Jyk7XG5jb25zdCBidXR0b25SZXNodWZmbGUgPSByZXF1aXJlQnlJZCgnYnV0dG9uLXJlc2h1ZmZsZScpO1xuY29uc3QgYnV0dG9uU3BlYWsgPSByZXF1aXJlQnlJZCgnYnV0dG9uLXNwZWFrJyk7XG5jb25zdCBidXR0b25Tbm9vemUxaCA9IHJlcXVpcmVCeUlkKCdidXR0b24tc25vb3plLTFoJyk7XG5jb25zdCBidXR0b25Tbm9vemU3ZCA9IHJlcXVpcmVCeUlkKCdidXR0b24tc25vb3plLTdkJyk7XG5jb25zdCBidXR0b25Tbm9vemUzMGQgPSByZXF1aXJlQnlJZCgnYnV0dG9uLXNub296ZS0zMGQnKTtcbmNvbnN0IGJ1dHRvblVuc25vb3plID0gcmVxdWlyZUJ5SWQoJ2J1dHRvbi11bnNub296ZScpO1xuY29uc3QgcHJvZ3Jlc3MgPSByZXF1aXJlQnlJZCgncHJvZ3Jlc3MnKTtcbmNvbnN0IGZvcm1RdWVzdGlvbk9yZGVyID0gcmVxdWlyZUJ5SWQoJ2Zvcm0tcXVlc3Rpb24tb3JkZXInKTtcbmNvbnN0IGZvcm1TZWxlY3RFeGVyY2lzZXMgPSByZXF1aXJlQnlJZCgnZm9ybS1zZWxlY3QtZXhlcmNpc2VzJyk7XG5jb25zdCBmb3JtU2VsZWN0TW9kZSA9IHJlcXVpcmVCeUlkKCdmb3JtLXNlbGVjdC1tb2RlJyk7XG5jb25zdCBzcGVlY2hTdGF0dXMgPSByZXF1aXJlQnlJZCgnc3BlZWNoLXN0YXR1cycpO1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7cHI6IHN0cmluZywgZW46IHN0cmluZ319IFRyYW5zbGF0aW9uUGFpclxuICovXG5cbi8qKlxuICogUHJvYmxlbSBUdXBsZSAtPiBgW3F1ZXN0aW9uLCBhbnN3ZXIsIHBvcnR1Z3Vlc2UtaW5kZXgtZm9yLXRleHQtdG8tc3BlZWNoLCBoYXNoXWBcbiAqIEB0eXBlZGVmIHtbc3RyaW5nLCBzdHJpbmcsIG51bWJlcl18W3N0cmluZywgc3RyaW5nLCBudW1iZXIsIHN0cmluZ119IFByb2JsZW1cbiAqL1xuXG4vKiogQHR5cGUge3sgcmV2ZWFsZWQ6IGJvb2xlYW4sIHByb2JsZW1zOiBQcm9ibGVtW10sIGluZGV4OiBudW1iZXIgfX0gU3RhdGUgKi9cbmNvbnN0IHN0YXRlID0ge1xuICByZXZlYWxlZDogZmFsc2UsXG4gIHByb2JsZW1zOiBbXSxcbiAgaW5kZXg6IDAsXG59O1xuXG5mdW5jdGlvbiBtYWluKCkge1xuICByZW5kZXJPcHRpb25zKCk7XG4gIHNodWZmbGVRdWVzdGlvbnMoKTtcbiAgc2V0dXBMaXN0ZW5lcnMoKTtcbn1cblxuZnVuY3Rpb24gcmFuZEJvb2woKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpID49IDAuNVxufVxuXG5mdW5jdGlvbiBzaHVmZmxlUXVlc3Rpb25zKCkge1xuICBzdGF0ZS5yZXZlYWxlZCA9IGZhbHNlO1xuICBzdGF0ZS5wcm9ibGVtcyA9IFtdO1xuICBzdGF0ZS5pbmRleCA9IDA7XG4gIC8qKiBAdHlwZSB7UHJvYmxlbVtdfSAqL1xuICBjb25zdCBwcm9ibGVtcyA9IFtdXG4gIC8qKiBAcGFyYW0ge1RyYW5zbGF0aW9uUGFpcn0gdHJhbnMgKi9cbiAgY29uc3QgYWRkUHJvYmxlbSA9ICh0cmFucykgPT4ge1xuICAgIGlmICghdHJhbnMuZW4gfHwgIXRyYW5zLnByKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2JsZW0gaXMgaW52YWxpZDogJHtKU09OLnN0cmluZ2lmeSh0cmFucyl9YClcbiAgICB9XG4gICAgY29uc3Qgb3JkZXIgPSBvcHRpb25zU3RvcmUuZ2V0T3JkZXIoKTtcbiAgICBpZiAob3JkZXIgPT09IE9SREVSLkVOX0ZJUlNUKSB7XG4gICAgICBwcm9ibGVtcy5wdXNoKFt0cmFucy5lbiwgdHJhbnMucHIsIDFdKTtcbiAgICB9IGVsc2UgaWYgKG9yZGVyID09PSBPUkRFUi5QUl9GSVJTVCkge1xuICAgICAgcHJvYmxlbXMucHVzaChbdHJhbnMucHIsIHRyYW5zLmVuLCAwXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZsaXAgPSByYW5kQm9vbCgpO1xuICAgICAgaWYgKGZsaXApIHtcbiAgICAgICAgcHJvYmxlbXMucHVzaChbdHJhbnMuZW4sIHRyYW5zLnByLCAxXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9ibGVtcy5wdXNoKFt0cmFucy5wciwgdHJhbnMuZW4sIDBdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBzZWxlY3RlZEV4ZXJjaXNlcyA9IG9wdGlvbnNTdG9yZS5nZXRTZWxlY3RlZEV4ZXJjaXNlcygpXG5cbiAgaWYgKHNlbGVjdGVkRXhlcmNpc2VzW0VYRVJDSVNFLlZFUl9DT05KVUdBVElPTl0pIHtcbiAgICBjb25qLnZlci5wcmVzZW50LmZvckVhY2goYWRkUHJvYmxlbSk7XG4gICAgY29uai52ZXIucHJldGVyaXRlLmZvckVhY2goYWRkUHJvYmxlbSk7XG4gICAgY29uai52ZXIuaW1wZXJmZWN0LmZvckVhY2goYWRkUHJvYmxlbSk7XG4gICAgY29uai52ZXIucHJlc2VudFBlcmZlY3QuZm9yRWFjaChhZGRQcm9ibGVtKTtcbiAgICBjb25qLnZlci5mdXR1cmUuZm9yRWFjaChhZGRQcm9ibGVtKTtcbiAgICBjb25qLnZlci5wcmVzZW50U3VianVuY3RpdmUuZm9yRWFjaChhZGRQcm9ibGVtKTtcbiAgfVxuXG4gIGlmIChzZWxlY3RlZEV4ZXJjaXNlc1tFWEVSQ0lTRS5WSVJfQ09OSlVHQVRJT05dKSB7XG4gICAgY29uai52aXIucHJlc2VudC5mb3JFYWNoKGFkZFByb2JsZW0pO1xuICAgIGNvbmoudmlyLnByZXRlcml0ZS5mb3JFYWNoKGFkZFByb2JsZW0pO1xuICAgIGNvbmoudmlyLmltcGVyZmVjdC5mb3JFYWNoKGFkZFByb2JsZW0pO1xuICAgIGNvbmoudmlyLnByZXNlbnRQZXJmZWN0LmZvckVhY2goYWRkUHJvYmxlbSk7XG4gICAgY29uai52aXIuZnV0dXJlLmZvckVhY2goYWRkUHJvYmxlbSk7XG4gICAgY29uai52aXIucHJlc2VudFN1Ymp1bmN0aXZlLmZvckVhY2goYWRkUHJvYmxlbSk7XG4gIH1cblxuICBpZiAoc2VsZWN0ZWRFeGVyY2lzZXNbRVhFUkNJU0UuVkVSX0FORF9WSVJdKSB7XG4gICAgY29uai52ZXJfYW5kX3Zpci5wcmVzZW50LmZvckVhY2goYWRkUHJvYmxlbSk7XG4gICAgY29uai52ZXJfYW5kX3Zpci5wcmV0ZXJpdGUuZm9yRWFjaChhZGRQcm9ibGVtKTtcbiAgICBjb25qLnZlcl9hbmRfdmlyLmltcGVyZmVjdC5mb3JFYWNoKGFkZFByb2JsZW0pO1xuICB9XG5cbiAgaWYgKHNlbGVjdGVkRXhlcmNpc2VzW0VYRVJDSVNFLkZBWkVSX0NPTkpVR0FUSU9OXSkge1xuICAgIGNvbmpGYXplci5wcmVzZW50LmZvckVhY2goYWRkUHJvYmxlbSk7XG4gICAgY29uakZhemVyLnByZXRlcml0ZS5mb3JFYWNoKGFkZFByb2JsZW0pO1xuICAgIGNvbmpGYXplci5pbXBlcmZlY3QuZm9yRWFjaChhZGRQcm9ibGVtKTtcbiAgICBjb25qRmF6ZXIucHJlc2VudFBlcmZlY3QuZm9yRWFjaChhZGRQcm9ibGVtKTtcbiAgfVxuXG4gIGlmIChzZWxlY3RlZEV4ZXJjaXNlc1tFWEVSQ0lTRS5XRUFLX1BIUkFTRVNdKSB7XG4gICAgd2Vha1BocmFzZXMuZm9yRWFjaChhZGRQcm9ibGVtKTtcbiAgfVxuXG4gIGlmIChzZWxlY3RlZEV4ZXJjaXNlc1tFWEVSQ0lTRS5WT0NBQl0pIHtcbiAgICB2b2NhYi5mb3JFYWNoKGFkZFByb2JsZW0pO1xuICB9XG5cbiAgc3RhdGUucHJvYmxlbXMgPSBzaHVmZmxlQXJyYXkocHJvYmxlbXMpO1xuXG4gIHByZXBhcmVIYXNoRGF0YSgoKSA9PiB7XG4gICAgcmVuZGVyQ29udGVudCgpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcGxheVRyYW5zbGF0aW9uQXVkaW8oKSB7XG4gIGNvbnN0IG51bVByb2JsZW1zID0gc3RhdGUucHJvYmxlbXMubGVuZ3RoXG4gIGlmIChudW1Qcm9ibGVtcyA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBjdXJyZW50SW5kZXggPSBzdGF0ZS5pbmRleCAlIG51bVByb2JsZW1zO1xuICBjb25zdCBjdXJyZW50UHJvYmxlbSA9IHN0YXRlLnByb2JsZW1zW2N1cnJlbnRJbmRleF07XG4gIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAvLyBAdHMtaWdub3JlXG4gIGNvbnN0IHB0UGhyYXNlID0gY3VycmVudFByb2JsZW1bY3VycmVudFByb2JsZW1bMl1dXG4gIGNvbnN0IFtzaG93U3BlYWtpbmdTdGF0dXMsIGhpZGVTcGVha2luZ1N0YXR1c10gPSBwcmVwYXJlU3BlYWtpbmdTdGF0dXMoKTtcbiAgY29uc3QgZGlkU3BlYWsgPSBzcGVhayhwdFBocmFzZSwgKCkgPT4gaGlkZVNwZWFraW5nU3RhdHVzKCkpO1xuICBpZiAoZGlkU3BlYWspIHtcbiAgICBzaG93U3BlYWtpbmdTdGF0dXMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZHZhbmNlKCkge1xuICBpZiAoc3RhdGUucmV2ZWFsZWQpIHtcbiAgICBzdGF0ZS5pbmRleCsrO1xuICAgIHN0YXRlLnJldmVhbGVkID0gZmFsc2U7XG4gICAgY29uc3QgbnVtUHJvYmxlbXMgPSBzdGF0ZS5wcm9ibGVtcy5sZW5ndGhcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBzdGF0ZS5pbmRleCAlIG51bVByb2JsZW1zO1xuICAgIGlmIChjdXJyZW50SW5kZXggPT09IDApIHtcbiAgICAgIGNlbGVicmF0ZSgpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9uc1N0b3JlLmdldE1vZGUoKSA9PT0gTU9ERS5MSVNURU5JTkcpIHtcbiAgICAgIHBsYXlUcmFuc2xhdGlvbkF1ZGlvKCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN0YXRlLnJldmVhbGVkID0gdHJ1ZTtcbiAgfVxuICByZW5kZXJDb250ZW50KCk7XG59XG5cbmZ1bmN0aW9uIHJld2luZCgpIHtcbiAgc3RhdGUucmV2ZWFsZWQgPSBmYWxzZTtcbiAgc3RhdGUuaW5kZXgtLTtcbiAgaWYgKHN0YXRlLmluZGV4IDwgMCkgc3RhdGUuaW5kZXggPSBzdGF0ZS5wcm9ibGVtcy5sZW5ndGggLSAxO1xuICByZW5kZXJDb250ZW50KCk7XG59XG5cbmZ1bmN0aW9uIHNldHVwTGlzdGVuZXJzKCkge1xuICBidXR0b25OZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWR2YW5jZSk7XG4gIGJ1dHRvblByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXdpbmQpO1xuICBidXR0b25SZXNodWZmbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaHVmZmxlUXVlc3Rpb25zKTtcbiAgYnV0dG9uU3BlYWsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5VHJhbnNsYXRpb25BdWRpbyk7XG4gIGJ1dHRvblNub296ZTFoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2tTbm9vemUpO1xuICBidXR0b25Tbm9vemU3ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrU25vb3plKTtcbiAgYnV0dG9uU25vb3plMzBkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2tTbm9vemUpO1xuICBidXR0b25VbnNub296ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrVW5zbm9vemUpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5UHJlc3MpO1xuICAvLyBAdHMtaWdub3JlXG4gIGZvcm1RdWVzdGlvbk9yZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZVF1ZXN0aW9uT3JkZXJDaGFuZ2UpXG4gIC8vIEB0cy1pZ25vcmVcbiAgZm9ybVNlbGVjdEV4ZXJjaXNlcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVTZWxlY3RFeGVyY2lzZUNoYW5nZSlcbiAgLy8gQHRzLWlnbm9yZVxuICBmb3JtU2VsZWN0TW9kZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVTZWxlY3RNb2RlQ2hhbmdlKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZcbiAqL1xuZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZXYpIHtcbiAgaWYgKCFldikgcmV0dXJuO1xuXG4gIGlmIChpc0NoYXJQcmVzc2VkKGV2LCBTcGVjaWFsS2V5LkFycm93UmlnaHQpKSB7XG4gICAgYWR2YW5jZSgpO1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gIH0gZWxzZSBpZiAoaXNDaGFyUHJlc3NlZChldiwgU3BlY2lhbEtleS5BcnJvd0xlZnQpKSB7XG4gICAgcmV3aW5kKCk7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgfSBlbHNlIGlmIChpc0NoYXJQcmVzc2VkKGV2LCBTcGVjaWFsS2V5LlNwYWNlKSkge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcGxheVRyYW5zbGF0aW9uQXVkaW8oKTtcbiAgfSBlbHNlIGlmIChpc0NoYXJQcmVzc2VkKGV2LCBTcGVjaWFsS2V5LkVudGVyKSAmJiBldi5zaGlmdEtleSAmJiBldi5hbHRLZXkpIHtcbiAgICBjZWxlYnJhdGUoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnQgJiB7IHRhcmdldDogSFRNTElucHV0RWxlbWVudCB9fSBldlxuICovXG5mdW5jdGlvbiBoYW5kbGVRdWVzdGlvbk9yZGVyQ2hhbmdlKGV2KSB7XG4gIGlmICghZXYudGFyZ2V0KSByZXR1cm5cbiAgLy8gc3RhdGUub3JkZXIgPSBldi50YXJnZXQudmFsdWU7XG4gIG9wdGlvbnNTdG9yZS5zZXRPcmRlcihldi50YXJnZXQudmFsdWUpO1xuICBzaHVmZmxlUXVlc3Rpb25zKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudCAmIHsgdGFyZ2V0OiBIVE1MSW5wdXRFbGVtZW50IH19IGV2XG4gKi9cbmZ1bmN0aW9uIGhhbmRsZVNlbGVjdEV4ZXJjaXNlQ2hhbmdlKGV2KSB7XG4gIG9wdGlvbnNTdG9yZS5zZXRTZWxlY3RlZEV4ZXJjaXNlKGV2LnRhcmdldC5uYW1lLCBldi50YXJnZXQuY2hlY2tlZCk7XG4gIHNodWZmbGVRdWVzdGlvbnMoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50ICYgeyB0YXJnZXQ6IEhUTUxJbnB1dEVsZW1lbnQgfX0gZXZcbiAqL1xuZnVuY3Rpb24gaGFuZGxlU2VsZWN0TW9kZUNoYW5nZShldikge1xuICBvcHRpb25zU3RvcmUuc2V0TW9kZShldi50YXJnZXQudmFsdWUpO1xuICBzaHVmZmxlUXVlc3Rpb25zKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsqfSBldlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gaGFuZGxlQ2xpY2tTbm9vemUoZXYpIHtcbiAgY29uc3Qgc2Vjb25kcyA9IHBhcnNlSW50KGV2LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5zZWNvbmRzLCAxMCkgfHwgMDtcbiAgaWYgKCFzZWNvbmRzKSByZXR1cm47XG4gIGNvbnN0IHNub296ZUR1cmF0aW9uTXMgPSBzZWNvbmRzICogMTAwMDtcbiAgc25vb3plQ3VycmVudFF1ZXN0aW9uKHNub296ZUR1cmF0aW9uTXMpO1xuICBpZiAob3B0aW9uc1N0b3JlLmdldE1vZGUoKSA9PT0gTU9ERS5MSVNURU5JTkcpIHtcbiAgICBwbGF5VHJhbnNsYXRpb25BdWRpbygpO1xuICB9XG4gIHJlbmRlckNvbnRlbnQoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyp9IGV2XG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUNsaWNrVW5zbm9vemUoZXYpIHtcbiAgcXVlc3Rpb25zU3RvcmUudW5zbm9vemVBbGxRdWVzdGlvbnMoKTtcbiAgc2h1ZmZsZVF1ZXN0aW9ucygpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDb250ZW50KCkge1xuICBjb25zdCBudW1Qcm9ibGVtcyA9IHN0YXRlLnByb2JsZW1zLmxlbmd0aFxuXG4gIGlmIChudW1Qcm9ibGVtcyA9PT0gMCkge1xuICAgIGNhcmRRdWVzdGlvbkNvbnRlbnQuaW5uZXJIVE1MID0gXCJQbGVhc2Ugc2VsZWN0IGFuIGV4ZXJjaXNlIHRvIGJlZ2luXCI7XG4gICAgY2FyZEFuc3dlckNvbnRlbnQuaW5uZXJIVE1MID0gXCJQb3IgZmF2b3Igc2VsZWNpb25lIHVtIGV4ZXJjw61jaW8gcGFyYSBjb21lw6dhclwiO1xuICAgIGNhcmRBbnN3ZXIuY2xhc3NMaXN0LmFkZCgncmV2ZWFsZWQnKTtcbiAgICBwcm9ncmVzcy5pbm5lckhUTUwgPSBcIjAgLyAwXCI7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgY3VycmVudEluZGV4ID0gc3RhdGUuaW5kZXggJSBudW1Qcm9ibGVtcztcbiAgY29uc3QgcHJvZ3Jlc3NUZXh0ID0gYCR7Y3VycmVudEluZGV4ICsgMX0gLyAke251bVByb2JsZW1zfWBcbiAgY29uc3QgY3VycmVudFByb2JsZW0gPSBzdGF0ZS5wcm9ibGVtc1tjdXJyZW50SW5kZXhdO1xuXG4gIGFzc2VydChjdXJyZW50UHJvYmxlbSwgYGN1cnJlbnRQcm9ibGVtIG91dCBvZiBib3VuZHMgLSB0cmllZCBpbmRleCAke2N1cnJlbnRJbmRleH0gZm9yIGFycmF5IG9mIGxlbmd0aCAke251bVByb2JsZW1zfWApO1xuICBpZiAoIWN1cnJlbnRQcm9ibGVtKSByZXR1cm5cblxuICBjYXJkUXVlc3Rpb25Db250ZW50LmlubmVySFRNTCA9IG1hcmtpZnlUZXh0KGN1cnJlbnRQcm9ibGVtWzBdKTtcbiAgY2FyZEFuc3dlckNvbnRlbnQuaW5uZXJIVE1MID0gbWFya2lmeVRleHQoY3VycmVudFByb2JsZW1bMV0pO1xuXG4gIGlmIChzdGF0ZS5yZXZlYWxlZCkge1xuICAgIGNhcmRRdWVzdGlvbi5jbGFzc0xpc3QuYWRkKCdyZXZlYWxlZCcpO1xuICAgIGNhcmRBbnN3ZXIuY2xhc3NMaXN0LmFkZCgncmV2ZWFsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICBjYXJkUXVlc3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgncmV2ZWFsZWQnKTtcbiAgICBjYXJkQW5zd2VyLmNsYXNzTGlzdC5yZW1vdmUoJ3JldmVhbGVkJyk7XG4gIH1cblxuICBtYWluTm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdtb2RlLXJlYWRpbmcnKTtcbiAgbWFpbk5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnbW9kZS1saXN0ZW5pbmcnKVxuICBzd2l0Y2ggKG9wdGlvbnNTdG9yZS5nZXRNb2RlKCkpIHtcbiAgICBjYXNlIE1PREUuTElTVEVOSU5HOlxuICAgICAgbWFpbk5vZGUuY2xhc3NMaXN0LmFkZCgnbW9kZS1saXN0ZW5pbmcnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgTU9ERS5SRUFESU5HOlxuICAgICAgbWFpbk5vZGUuY2xhc3NMaXN0LmFkZCgnbW9kZS1yZWFkaW5nJyk7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHByb2dyZXNzLmlubmVySFRNTCA9IHByb2dyZXNzVGV4dDtcbn1cblxuZnVuY3Rpb24gcmVuZGVyT3B0aW9ucygpIHtcbiAgZm9ybVF1ZXN0aW9uT3JkZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKS5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICBpZiAoaW5wdXQubmFtZSA9PT0gJ3F1ZXN0aW9uLW9yZGVyJykge1xuICAgICAgaW5wdXQuY2hlY2tlZCA9IG9wdGlvbnNTdG9yZS5nZXRPcmRlcigpID09PSBpbnB1dC52YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGZvcm1TZWxlY3RFeGVyY2lzZXMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKS5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICBpZiAoaW5wdXQubmFtZS5pbmNsdWRlcygnY2hlY2tib3gtZXhlcmNpc2UnKSkge1xuICAgICAgaW5wdXQuY2hlY2tlZCA9ICEhb3B0aW9uc1N0b3JlLmdldFNlbGVjdGVkRXhlcmNpc2VzKClbaW5wdXQubmFtZV07XG4gICAgfVxuICB9KTtcblxuICBmb3JtU2VsZWN0TW9kZS5xdWVyeVNlbGVjdG9yQWxsKCdzZWxlY3QnKS5mb3JFYWNoKHNlbGVjdCA9PiB7XG4gICAgaWYgKHNlbGVjdC5uYW1lLmluY2x1ZGVzKCdzZWxlY3QtbW9kZScpKSB7XG4gICAgICBzZWxlY3QudmFsdWUgPSBvcHRpb25zU3RvcmUuZ2V0TW9kZSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHNub296ZUR1cmF0aW9uTXNcbiAqL1xuZnVuY3Rpb24gc25vb3plQ3VycmVudFF1ZXN0aW9uKHNub296ZUR1cmF0aW9uTXMsIHNob3VsZFJlbW92ZVByb2JsZW0gPSB0cnVlKSB7XG4gIGNvbnN0IG51bVByb2JsZW1zID0gc3RhdGUucHJvYmxlbXMubGVuZ3RoXG4gIGlmIChudW1Qcm9ibGVtcyA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBjdXJyZW50SW5kZXggPSBzdGF0ZS5pbmRleCAlIG51bVByb2JsZW1zO1xuICBjb25zdCBjdXJyZW50UHJvYmxlbSA9IHN0YXRlLnByb2JsZW1zW2N1cnJlbnRJbmRleF07XG4gIGlmICghY3VycmVudFByb2JsZW0pIHJldHVybjtcbiAgY29uc3QgaGFzaCA9IGN1cnJlbnRQcm9ibGVtWzNdIHx8IFwiXCI7XG4gIGNvbnN0IGRpZFNub296ZSA9IHF1ZXN0aW9uc1N0b3JlLnNub296ZVF1ZXN0aW9uKGhhc2gsIHNub296ZUR1cmF0aW9uTXMpO1xuICBpZiAoZGlkU25vb3plICYmIHNob3VsZFJlbW92ZVByb2JsZW0pIHtcbiAgICBzdGF0ZS5wcm9ibGVtcyA9IHJlbW92ZUFycmF5RWxlbWVudChzdGF0ZS5wcm9ibGVtcywgY3VycmVudEluZGV4KTtcbiAgICBzdGF0ZS5yZXZlYWxlZCA9IGZhbHNlO1xuICB9XG59XG5cbi8qKiBAdHlwZSB7bnVsbCB8ICgoKSA9PiB2b2lkKX0gKi9cbmxldCBjbGVhbnVwSGFzaFByb2Nlc3NvciA9IG51bGw7XG5cbi8qKlxuICogSGFzaCBQb3J0dWd1ZXNlIHBocmFzZSB0byBhbGxvdyBmb3IgXCJzbm9vemluZ1wiIGEgZmxhc2ggY2FyZFxuICovXG5mdW5jdGlvbiBwcmVwYXJlSGFzaERhdGEob25Qcm9jZXNzaW5nQ29tcGxldGUgPSAoKSA9PiB7fSkge1xuICBpZiAoY2xlYW51cEhhc2hQcm9jZXNzb3IpIHtcbiAgICBjbGVhbnVwSGFzaFByb2Nlc3NvcigpO1xuICB9XG5cbiAgbGV0IGlnbm9yZSA9IGZhbHNlO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3MoKSB7XG4gICAgY29uc3QgdGltZVN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlICghaWdub3JlICYmIGkgPCBzdGF0ZS5wcm9ibGVtcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHByb2JsZW0gPSBzdGF0ZS5wcm9ibGVtc1tpXTtcbiAgICAgIGlmICghcHJvYmxlbSkgY29udGludWU7XG4gICAgICBjb25zdCBwdFBocmFzZSA9IFN0cmluZyhwcm9ibGVtW3Byb2JsZW1bMl1dKTtcbiAgICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBzaGEyNTYocHRQaHJhc2UpO1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgc3RhdGUucHJvYmxlbXNbaV1bM10gPSBoYXNoO1xuICAgICAgTG9nZ2VyLmRlYnVnKGBwcm9jZXNzaW5nIG1zZyAke2l9IC0gJHtoYXNofSBnZW5lcmF0ZWQgZm9yIFwiJHtwdFBocmFzZX1cImApXG4gICAgICBpKys7XG4gICAgfVxuICAgIGlmICghaWdub3JlKSB7XG4gICAgICBjb25zdCBzbm9vemVkUXVlc3Rpb25zID0gcXVlc3Rpb25zU3RvcmUuZ2V0U25vb3plZFF1ZXN0aW9ucygpO1xuICAgICAgc3RhdGUucHJvYmxlbXMgPSBzdGF0ZS5wcm9ibGVtcy5maWx0ZXIocHJvYmxlbSA9PiB7XG4gICAgICAgIGNvbnN0IGhhc2ggPSBwcm9ibGVtWzNdIHx8IFwiXCI7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgY29uc3QgdGltZVNub296ZUV4cGlyZXNNcyA9IHNub296ZWRRdWVzdGlvbnNbaGFzaF0gfHwgMDtcbiAgICAgICAgcmV0dXJuICEhaGFzaCAmJiB0aW1lU25vb3plRXhwaXJlc01zIDwgY3VycmVudFRpbWVcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHRpbWVFbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIExvZ2dlci5pbmZvKGBwcm9jZXNzaW5nIGNvbXBsZXRlISAtIHRvb2sgJHt0aW1lRW5kIC0gdGltZVN0YXJ0fW1zYCk7XG4gICAgICBvblByb2Nlc3NpbmdDb21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3MoKTtcblxuICBjbGVhbnVwSGFzaFByb2Nlc3NvciA9ICgpID0+IHtcbiAgICBpZ25vcmUgPSB0cnVlO1xuICAgIGNsZWFudXBIYXNoUHJvY2Vzc29yID0gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHtbKCkgPT4gdm9pZCwgKCkgPT4gdm9pZF19XG4gKi9cbmZ1bmN0aW9uIHByZXBhcmVTcGVha2luZ1N0YXR1cygpIHtcbiAgLyoqIEB0eXBlIHtOb2RlSlMuVGltZW91dCB8IG51bGx9ICovXG4gIGxldCBpbnRlcnZhbCA9IG51bGw7XG4gIGNvbnN0IHNob3dTcGVha2luZ1N0YXR1cyA9ICgpID0+IHtcbiAgICBsZXQgaSA9IDA7XG4gICAgc3BlZWNoU3RhdHVzLmlubmVyVGV4dCA9ICcuJztcbiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGkrKztcbiAgICAgIHNwZWVjaFN0YXR1cy5pbm5lclRleHQgPSAoKCkgPT4ge1xuICAgICAgICBpZiAoaSAlIDMgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpICUgMyA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiAnLi4nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnLi4uJztcbiAgICAgIH0pKClcbiAgICB9LCA1MDApO1xuICB9XG4gIGNvbnN0IGhpZGVTcGVha2luZ1N0YXR1cyA9ICgpID0+IHtcbiAgICBpZiAoaW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH1cbiAgICBzcGVlY2hTdGF0dXMuaW5uZXJUZXh0ID0gXCJcIjtcbiAgfTtcbiAgcmV0dXJuIFtzaG93U3BlYWtpbmdTdGF0dXMsIGhpZGVTcGVha2luZ1N0YXR1c107XG59XG5cbmZ1bmN0aW9uIGNlbGVicmF0ZSgpIHtcbiAgY29uc3Qgc291bmRzID0gW1xuICAgICdzZngvMTYyMzk1X196dXQ1MF9feWF5Lm1wMycsXG4gICAgJ3NmeC8yMzk1OTRfX3h0cmdhbXJfX3VuaW1wcmVzc2VkeWF5XzAxLndhdicsXG4gICAgJ3NmeC8yNTI4MDhfX3h0cmdhbXJfX3lheS53YXYnLFxuICAgICdzZngvMzIzNzAzX19yZWl0YW5uYV9fZnVubnkteWF5LndhdicsXG4gICAgJ3NmeC8zNTM5MjNfX2RyX3NraXR6X195YXkud2F2JyxcbiAgXVxuICBjb25zdCBzb3VuZCA9IG5ldyBBdWRpbyhnZXRSYW5kb21FbGVtZW50KHNvdW5kcykpO1xuICBzb3VuZC5wbGF5KCk7XG59XG5cbm1haW4oKTtcbiIsIlxuLyoqXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBPUkRFUiA9IHtcbiAgUFJfRklSU1Q6ICdwci1maXJzdCcsXG4gIEVOX0ZJUlNUOiAnZW4tZmlyc3QnLFxuICBBTlk6ICdhbnknLFxufVxuXG4vKipcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IEVYRVJDSVNFID0ge1xuICBWRVJfQ09OSlVHQVRJT046ICdjaGVja2JveC1leGVyY2lzZS12ZXItY29uanVnYXRpb24nLFxuICBWSVJfQ09OSlVHQVRJT046ICdjaGVja2JveC1leGVyY2lzZS12aXItY29uanVnYXRpb24nLFxuICBWRVJfQU5EX1ZJUjogJ2NoZWNrYm94LWV4ZXJjaXNlLXZlci1hbmQtdmlyJyxcbiAgRkFaRVJfQ09OSlVHQVRJT046ICdjaGVja2JveC1leGVyY2lzZS1mYXplcicsXG4gIFdFQUtfUEhSQVNFUzogJ2NoZWNrYm94LWV4ZXJjaXNlLXdlYWstcGhyYXNlcycsXG4gIFZPQ0FCOiAnY2hlY2tib3gtZXhlcmNpc2Utdm9jYWInLFxufVxuXG4vKipcbiAqIFByYWN0aWNlIG1vZGUgLSBlLmcuIHJlYWRpbmcgb3IgbGlzdGVuaW5nXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBNT0RFID0ge1xuICBSRUFESU5HOiAnbW9kZS1yZWFkaW5nJyxcbiAgTElTVEVOSU5HOiAnbW9kZS1saXN0ZW5pbmcnLFxufVxuXG4vKiogQHJlYWRvbmx5ICovXG5leHBvcnQgY29uc3QgT05FX0hPVVJfTVMgPSA2MCAqIDYwICogMTAwMDtcbiIsIlxuZXhwb3J0IGNvbnN0IFNwZWNpYWxLZXkgPSB7XG4gIEJhY2tzcGFjZTogJ2JhY2tzcGFjZScsXG4gIEVzY2FwZTogJ2VzY2FwZScsXG4gIFRhYjogJ3RhYicsXG4gIFNwYWNlOiAnc3BhY2UnLFxuICBFbnRlcjogJ2VudGVyJyxcbiAgRGVsZXRlOiAnZGVsZXRlJyxcbiAgQXJyb3dVcDogJ0Fycm93VXAnLFxuICBBcnJvd0Rvd246ICdBcnJvd0Rvd24nLFxuICBBcnJvd0xlZnQ6ICdBcnJvd0xlZnQnLFxuICBBcnJvd1JpZ2h0OiAnQXJyb3dSaWdodCcsXG59XG5cbi8qKlxuICogS2V5Ym9hcmQgb3B0aW9uc1xuICogQHR5cGVkZWYge09iamVjdH0gS2V5Ym9hcmRPcHRpb25zXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjdHJsS2V5XSAtIGNvbnRyb2wga2V5IGlzIHByZXNzZWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzaGlmdEtleV0gLSBzaGlmdCBrZXkgaXMgcHJlc3NlZC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsdEtleV0gLSBhbHQga2V5IGlzIHByZXNzZWQuXG4gKi9cblxuLyoqXG4gKiBkZXRlcm1pbmUgd2hldGhlciBhIG51bWJlciBpcyBwcmVzc2VkXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2IFxuICogQHBhcmFtIHtudW1iZXJ9IG51bSBcbiAqIEBwYXJhbSB7S2V5Ym9hcmRPcHRpb25zfSBbb3B0c11cbiAqIEByZXR1cm5zIGJvb2xlYW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyUHJlc3NlZChldiwgbnVtLCBvcHRzID0ge30pIHtcbiAgaWYgKCFhcmVPcHRpb25zU2F0aXNmaWVkKGV2LCBvcHRzKSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gZmluZE51bWJlclByZXNzZWQoZXYpID09PSBudW07XG59XG5cbi8qKlxuICogZGV0ZXJtaW5lIHdoZXRoZXIgYSBjaGFyIGlzIHByZXNzZWRcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXYgXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hhclxuICogQHBhcmFtIHtLZXlib2FyZE9wdGlvbnN9IFtvcHRzXVxuICogQHJldHVybnMgYm9vbGVhblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDaGFyUHJlc3NlZChldiwgY2hhciwgb3B0cyA9IHt9KSB7XG4gIGlmICghYXJlT3B0aW9uc1NhdGlzZmllZChldiwgb3B0cykpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGZpbmRDaGFyUHJlc3NlZChldikgPT09IGNoYXI7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgb3B0aW9ucyBhcmUgc2F0aXNmaWVkIChjdHJsLCBhbHQsIHNoaWZ0LCBldGMuKVxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldiBcbiAqIEBwYXJhbSB7S2V5Ym9hcmRPcHRpb25zfSBbb3B0c11cbiAqIEByZXR1cm5zIGJvb2xlYW5cbiAqL1xuZnVuY3Rpb24gYXJlT3B0aW9uc1NhdGlzZmllZChldiwgb3B0cyA9IHt9KSB7XG4gIGlmICghZXYpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgaXNDb250cm9sUHJlc3NlZCA9IGV2Lm1ldGFLZXkgfHwgZXYuY3RybEtleTsgLy8gbWV0YSBrZXkgaXMgQ01EIGtleSBvbiBtYWNcbiAgY29uc3QgaXNTaGlmdFByZXNzZWQgPSBldi5zaGlmdEtleTtcbiAgY29uc3QgaXNBbHRLZXlQcmVzc2VkID0gZXYuYWx0S2V5O1xuICBpZiAob3B0cy5jdHJsS2V5ICYmICFpc0NvbnRyb2xQcmVzc2VkKSByZXR1cm4gZmFsc2U7XG4gIGlmIChvcHRzLnNoaWZ0S2V5ICYmICFpc1NoaWZ0UHJlc3NlZCkgcmV0dXJuIGZhbHNlO1xuICBpZiAob3B0cy5hbHRLZXkgJiYgIWlzQWx0S2V5UHJlc3NlZCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBGaW5kIG51bWJlciBwcmVzc2VkLCBvciAtMSBpZiBubyBtYXRjaCBmb3VuZFxuICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldlxuICogQHJldHVybnMgbnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTnVtYmVyUHJlc3NlZChldikge1xuICBpZiAoZXYua2V5ID09PSAnMCcgfHwgZXYuY29kZSA9PT0gJ0RpZ2l0MCcgfHwgZXYuY29kZSA9PT0gJ051bXBhZDAnIHx8IGV2LmtleUNvZGUgPT09IDQ4IHx8IGV2LmtleUNvZGUgPT09IDk2KSByZXR1cm4gMDtcbiAgaWYgKGV2LmtleSA9PT0gJzEnIHx8IGV2LmNvZGUgPT09ICdEaWdpdDEnIHx8IGV2LmNvZGUgPT09ICdOdW1wYWQxJyB8fCBldi5rZXlDb2RlID09PSA0OSB8fCBldi5rZXlDb2RlID09PSA5NykgcmV0dXJuIDE7XG4gIGlmIChldi5rZXkgPT09ICcyJyB8fCBldi5jb2RlID09PSAnRGlnaXQyJyB8fCBldi5jb2RlID09PSAnTnVtcGFkMicgfHwgZXYua2V5Q29kZSA9PT0gNTAgfHwgZXYua2V5Q29kZSA9PT0gOTgpIHJldHVybiAyO1xuICBpZiAoZXYua2V5ID09PSAnMycgfHwgZXYuY29kZSA9PT0gJ0RpZ2l0MycgfHwgZXYuY29kZSA9PT0gJ051bXBhZDMnIHx8IGV2LmtleUNvZGUgPT09IDUxIHx8IGV2LmtleUNvZGUgPT09IDk5KSByZXR1cm4gMztcbiAgaWYgKGV2LmtleSA9PT0gJzQnIHx8IGV2LmNvZGUgPT09ICdEaWdpdDQnIHx8IGV2LmNvZGUgPT09ICdOdW1wYWQ0JyB8fCBldi5rZXlDb2RlID09PSA1MiB8fCBldi5rZXlDb2RlID09PSAxMDApIHJldHVybiA0O1xuICBpZiAoZXYua2V5ID09PSAnNScgfHwgZXYuY29kZSA9PT0gJ0RpZ2l0NScgfHwgZXYuY29kZSA9PT0gJ051bXBhZDUnIHx8IGV2LmtleUNvZGUgPT09IDUzIHx8IGV2LmtleUNvZGUgPT09IDEwMSkgcmV0dXJuIDU7XG4gIGlmIChldi5rZXkgPT09ICc2JyB8fCBldi5jb2RlID09PSAnRGlnaXQ2JyB8fCBldi5jb2RlID09PSAnTnVtcGFkNicgfHwgZXYua2V5Q29kZSA9PT0gNTQgfHwgZXYua2V5Q29kZSA9PT0gMTAyKSByZXR1cm4gNjtcbiAgaWYgKGV2LmtleSA9PT0gJzcnIHx8IGV2LmNvZGUgPT09ICdEaWdpdDcnIHx8IGV2LmNvZGUgPT09ICdOdW1wYWQ3JyB8fCBldi5rZXlDb2RlID09PSA1NSB8fCBldi5rZXlDb2RlID09PSAxMDMpIHJldHVybiA3O1xuICBpZiAoZXYua2V5ID09PSAnOCcgfHwgZXYuY29kZSA9PT0gJ0RpZ2l0OCcgfHwgZXYuY29kZSA9PT0gJ051bXBhZDgnIHx8IGV2LmtleUNvZGUgPT09IDU2IHx8IGV2LmtleUNvZGUgPT09IDEwNCkgcmV0dXJuIDg7XG4gIGlmIChldi5rZXkgPT09ICc5JyB8fCBldi5jb2RlID09PSAnRGlnaXQ5JyB8fCBldi5jb2RlID09PSAnTnVtcGFkOScgfHwgZXYua2V5Q29kZSA9PT0gNTcgfHwgZXYua2V5Q29kZSA9PT0gMTA1KSByZXR1cm4gOTtcbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIEZpbmQgY2hhciBwcmVzc2VkLCBvciBcIlwiIGlmIG5vIG1hdGNoIGZvdW5kXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2XG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZmluZENoYXJQcmVzc2VkKGV2KSB7XG4gIGNvbnN0IG51bSA9IGZpbmROdW1iZXJQcmVzc2VkKGV2KTtcbiAgaWYgKG51bSAhPT0gLTEpIHJldHVybiBTdHJpbmcobnVtKTtcbiAgaWYgKGV2LmtleSA9PT0gJ2EnIHx8IGV2LmNvZGUgPT09ICdLZXlBJyB8fCBldi5rZXlDb2RlID09PSA2NSkgcmV0dXJuICdhJztcbiAgaWYgKGV2LmtleSA9PT0gJ2InIHx8IGV2LmNvZGUgPT09ICdLZXlCJyB8fCBldi5rZXlDb2RlID09PSA2NikgcmV0dXJuICdiJztcbiAgaWYgKGV2LmtleSA9PT0gJ2MnIHx8IGV2LmNvZGUgPT09ICdLZXlDJyB8fCBldi5rZXlDb2RlID09PSA2NykgcmV0dXJuICdjJztcbiAgaWYgKGV2LmtleSA9PT0gJ2QnIHx8IGV2LmNvZGUgPT09ICdLZXlEJyB8fCBldi5rZXlDb2RlID09PSA2OCkgcmV0dXJuICdkJztcbiAgaWYgKGV2LmtleSA9PT0gJ2UnIHx8IGV2LmNvZGUgPT09ICdLZXlFJyB8fCBldi5rZXlDb2RlID09PSA2OSkgcmV0dXJuICdlJztcbiAgaWYgKGV2LmtleSA9PT0gJ2YnIHx8IGV2LmNvZGUgPT09ICdLZXlGJyB8fCBldi5rZXlDb2RlID09PSA3MCkgcmV0dXJuICdmJztcbiAgaWYgKGV2LmtleSA9PT0gJ2cnIHx8IGV2LmNvZGUgPT09ICdLZXlHJyB8fCBldi5rZXlDb2RlID09PSA3MSkgcmV0dXJuICdnJztcbiAgaWYgKGV2LmtleSA9PT0gJ2gnIHx8IGV2LmNvZGUgPT09ICdLZXlIJyB8fCBldi5rZXlDb2RlID09PSA3MikgcmV0dXJuICdoJztcbiAgaWYgKGV2LmtleSA9PT0gJ2knIHx8IGV2LmNvZGUgPT09ICdLZXlJJyB8fCBldi5rZXlDb2RlID09PSA3MykgcmV0dXJuICdpJztcbiAgaWYgKGV2LmtleSA9PT0gJ2onIHx8IGV2LmNvZGUgPT09ICdLZXlKJyB8fCBldi5rZXlDb2RlID09PSA3NCkgcmV0dXJuICdqJztcbiAgaWYgKGV2LmtleSA9PT0gJ2snIHx8IGV2LmNvZGUgPT09ICdLZXlLJyB8fCBldi5rZXlDb2RlID09PSA3NSkgcmV0dXJuICdrJztcbiAgaWYgKGV2LmtleSA9PT0gJ2wnIHx8IGV2LmNvZGUgPT09ICdLZXlMJyB8fCBldi5rZXlDb2RlID09PSA3NikgcmV0dXJuICdsJztcbiAgaWYgKGV2LmtleSA9PT0gJ20nIHx8IGV2LmNvZGUgPT09ICdLZXlNJyB8fCBldi5rZXlDb2RlID09PSA3NykgcmV0dXJuICdtJztcbiAgaWYgKGV2LmtleSA9PT0gJ24nIHx8IGV2LmNvZGUgPT09ICdLZXlOJyB8fCBldi5rZXlDb2RlID09PSA3OCkgcmV0dXJuICduJztcbiAgaWYgKGV2LmtleSA9PT0gJ28nIHx8IGV2LmNvZGUgPT09ICdLZXlPJyB8fCBldi5rZXlDb2RlID09PSA3OSkgcmV0dXJuICdvJztcbiAgaWYgKGV2LmtleSA9PT0gJ3AnIHx8IGV2LmNvZGUgPT09ICdLZXlQJyB8fCBldi5rZXlDb2RlID09PSA4MCkgcmV0dXJuICdwJztcbiAgaWYgKGV2LmtleSA9PT0gJ3EnIHx8IGV2LmNvZGUgPT09ICdLZXlRJyB8fCBldi5rZXlDb2RlID09PSA4MSkgcmV0dXJuICdxJztcbiAgaWYgKGV2LmtleSA9PT0gJ3InIHx8IGV2LmNvZGUgPT09ICdLZXlSJyB8fCBldi5rZXlDb2RlID09PSA4MikgcmV0dXJuICdyJztcbiAgaWYgKGV2LmtleSA9PT0gJ3MnIHx8IGV2LmNvZGUgPT09ICdLZXlTJyB8fCBldi5rZXlDb2RlID09PSA4MykgcmV0dXJuICdzJztcbiAgaWYgKGV2LmtleSA9PT0gJ3QnIHx8IGV2LmNvZGUgPT09ICdLZXlUJyB8fCBldi5rZXlDb2RlID09PSA4NCkgcmV0dXJuICd0JztcbiAgaWYgKGV2LmtleSA9PT0gJ3UnIHx8IGV2LmNvZGUgPT09ICdLZXlVJyB8fCBldi5rZXlDb2RlID09PSA4NSkgcmV0dXJuICd1JztcbiAgaWYgKGV2LmtleSA9PT0gJ3YnIHx8IGV2LmNvZGUgPT09ICdLZXlWJyB8fCBldi5rZXlDb2RlID09PSA4NikgcmV0dXJuICd2JztcbiAgaWYgKGV2LmtleSA9PT0gJ3cnIHx8IGV2LmNvZGUgPT09ICdLZXlXJyB8fCBldi5rZXlDb2RlID09PSA4NykgcmV0dXJuICd3JztcbiAgaWYgKGV2LmtleSA9PT0gJ3gnIHx8IGV2LmNvZGUgPT09ICdLZXlYJyB8fCBldi5rZXlDb2RlID09PSA4OCkgcmV0dXJuICd4JztcbiAgaWYgKGV2LmtleSA9PT0gJ3knIHx8IGV2LmNvZGUgPT09ICdLZXlZJyB8fCBldi5rZXlDb2RlID09PSA4OSkgcmV0dXJuICd5JztcbiAgaWYgKGV2LmtleSA9PT0gJ3onIHx8IGV2LmNvZGUgPT09ICdLZXlaJyB8fCBldi5rZXlDb2RlID09PSA5MCkgcmV0dXJuICd6JztcbiAgaWYgKGV2LmtleSA9PT0gJ2AnIHx8IGV2LmNvZGUgPT09ICdCYWNrcXVvdGUnIHx8IGV2LmtleUNvZGUgPT09IDE5MikgcmV0dXJuICdgJztcbiAgaWYgKGV2LmtleSA9PT0gJy0nIHx8IGV2LmNvZGUgPT09ICdNaW51cycgfHwgZXYua2V5Q29kZSA9PT0gMTg5KSByZXR1cm4gJy0nO1xuICBpZiAoZXYua2V5ID09PSAnPScgfHwgZXYuY29kZSA9PT0gJ0VxdWFscycgfHwgZXYua2V5Q29kZSA9PT0gMTg3KSByZXR1cm4gJz0nO1xuICBpZiAoZXYua2V5ID09PSAnLScgfHwgZXYuY29kZSA9PT0gJ051bXBhZFN1YnRyYWN0JyB8fCBldi5rZXlDb2RlID09PSAxMDkpIHJldHVybiAnLSc7XG4gIGlmIChldi5rZXkgPT09ICcrJyB8fCBldi5jb2RlID09PSAnTnVtcGFkQWRkJyB8fCBldi5rZXlDb2RlID09PSAxMDcpIHJldHVybiAnKyc7XG4gIGlmIChldi5rZXkgPT09ICdbJyB8fCBldi5jb2RlID09PSAnQnJhY2tldExlZnQnIHx8IGV2LmtleUNvZGUgPT09IDIxOSkgcmV0dXJuICdbJztcbiAgaWYgKGV2LmtleSA9PT0gJ10nIHx8IGV2LmNvZGUgPT09ICdCcmFja2V0UmlnaHQnIHx8IGV2LmtleUNvZGUgPT09IDIyMSkgcmV0dXJuICddJztcbiAgaWYgKGV2LmtleSA9PT0gJ0JhY2tzcGFjZScgfHwgZXYuY29kZSA9PT0gJ0JhY2tzcGFjZScgfHwgZXYua2V5Q29kZSA9PT0gMjIxKSByZXR1cm4gU3BlY2lhbEtleS5CYWNrc3BhY2U7XG4gIGlmIChldi5rZXkgPT09ICdFc2NhcGUnIHx8IGV2LmNvZGUgPT09ICdFc2NhcGUnIHx8IGV2LmtleUNvZGUgPT09IDI3KSByZXR1cm4gU3BlY2lhbEtleS5Fc2NhcGU7XG4gIGlmIChldi5rZXkgPT09ICcgJyB8fCBldi5jb2RlID09PSAnU3BhY2UnIHx8IGV2LmtleUNvZGUgPT09IDMyKSByZXR1cm4gU3BlY2lhbEtleS5TcGFjZTtcbiAgaWYgKGV2LmtleSA9PT0gJ0VudGVyJyB8fCBldi5jb2RlID09PSAnRW50ZXInIHx8IGV2LmNvZGUgPT09ICdOdW1wYWRFbnRlcicgfHwgZXYua2V5Q29kZSA9PT0gMTMpIHJldHVybiBTcGVjaWFsS2V5LkVudGVyO1xuICBpZiAoZXYua2V5ID09PSAnRGVsZXRlJyB8fCBldi5jb2RlID09PSAnRGVsZXRlJyB8fCBldi5rZXlDb2RlID09PSA0NikgcmV0dXJuIFNwZWNpYWxLZXkuRGVsZXRlO1xuICBpZiAoZXYua2V5ID09PSAnQXJyb3dVcCcgfHwgZXYuY29kZSA9PT0gJ0Fycm93VXAnIHx8IGV2LmtleUNvZGUgPT09IDM4KSByZXR1cm4gU3BlY2lhbEtleS5BcnJvd1VwO1xuICBpZiAoZXYua2V5ID09PSAnQXJyb3dEb3duJyB8fCBldi5jb2RlID09PSAnQXJyb3dEb3duJyB8fCBldi5rZXlDb2RlID09PSA0MCkgcmV0dXJuIFNwZWNpYWxLZXkuQXJyb3dEb3duO1xuICBpZiAoZXYua2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBldi5jb2RlID09PSAnQXJyb3dMZWZ0JyB8fCBldi5rZXlDb2RlID09PSAzNykgcmV0dXJuIFNwZWNpYWxLZXkuQXJyb3dMZWZ0O1xuICBpZiAoZXYua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgZXYuY29kZSA9PT0gJ0Fycm93UmlnaHQnIHx8IGV2LmtleUNvZGUgPT09IDM5KSByZXR1cm4gU3BlY2lhbEtleS5BcnJvd1JpZ2h0O1xuICByZXR1cm4gJydcbn1cbiIsImltcG9ydCB7IHJlcXVpcmVCeUlkIH0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IHN5bnRoID0gd2luZG93LnNwZWVjaFN5bnRoZXNpcztcblxuLyoqIEB0eXBlIHtIVE1MU2VsZWN0RWxlbWVudH0gKi9cbi8vIEB0cy1pZ25vcmVcbmNvbnN0IHNlbGVjdFZvaWNlID0gcmVxdWlyZUJ5SWQoXCJzZWxlY3Qtdm9pY2VcIilcblxuLyoqIEB0eXBlIHtTcGVlY2hTeW50aGVzaXNWb2ljZVtdfSAqL1xubGV0IHZvaWNlcyA9IFtdO1xuXG5mdW5jdGlvbiBsb2FkVm9pY2VzKCkge1xuICAvLyBub3RlIHRoYXQgaW4gc29tZSBicm93c2VycywgbG9hZFZvaWNlcygpIG11c3Qgb2NjdXIgYWZ0ZXIgdXNlciBpbnRlcmFjdGlvbi4uLlxuICB2b2ljZXMgPSBzeW50aC5nZXRWb2ljZXMoKTtcbiAgaWYgKCF2b2ljZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygc2VsZWN0Vm9pY2UuY2hpbGRyZW4pIHtcbiAgICBjaGlsZC5yZW1vdmUoKTtcbiAgfVxuICBsZXQgY2hvc2VuVm9pY2VJbmRleCA9IDA7XG4gIGxldCBiYWNrdXBWb2ljZUluZGV4ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2b2ljZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB2b2ljZSA9IHZvaWNlc1tpXTtcbiAgICBpZiAoIXZvaWNlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKCEvXnB0LS8udGVzdCh2b2ljZS5sYW5nKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgb3B0aW9uLnRleHRDb250ZW50ID0gYCR7dm9pY2UubmFtZX0gKCR7dm9pY2UubGFuZ30pYDtcbiAgICBvcHRpb24udmFsdWUgPSBTdHJpbmcoaSk7XG4gICAgc2VsZWN0Vm9pY2UuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICBpZiAoIWNob3NlblZvaWNlSW5kZXggJiYgdm9pY2UubGFuZyA9PT0gJ3B0LUJSJyAmJiB2b2ljZS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2dvb2dsZScpKSB7XG4gICAgICBjaG9zZW5Wb2ljZUluZGV4ID0gaTtcbiAgICB9XG4gICAgaWYgKCFiYWNrdXBWb2ljZUluZGV4ICAmJiB2b2ljZS5sYW5nID09PSAncHQtQlInKSB7XG4gICAgICBiYWNrdXBWb2ljZUluZGV4ID0gaTtcbiAgICB9XG4gIH1cbiAgc2VsZWN0Vm9pY2UudmFsdWUgPSBTdHJpbmcoY2hvc2VuVm9pY2VJbmRleCB8fCBiYWNrdXBWb2ljZUluZGV4KTtcbn1cblxuLy8gaW4gR29vZ2xlIENocm9tZSB0aGUgdm9pY2VzIGFyZSBub3QgcmVhZHkgb24gcGFnZSBsb2FkXG5pZiAoXCJvbnZvaWNlc2NoYW5nZWRcIiBpbiBzeW50aCkge1xuICBzeW50aC5vbnZvaWNlc2NoYW5nZWQgPSBsb2FkVm9pY2VzO1xufSBlbHNlIHtcbiAgbG9hZFZvaWNlcygpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcGFyYW0geygoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZH0gb25GaW5pc2hlZFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBzcGVhayA9ICh0ZXh0LCBvbkZpbmlzaGVkID0gdW5kZWZpbmVkKSA9PiB7XG4gIGlmIChzeW50aC5zcGVha2luZykgcmV0dXJuIGZhbHNlO1xuICBpZiAoIXZvaWNlcy5sZW5ndGgpIGxvYWRWb2ljZXMoKTtcbiAgY29uc3QgZmlsdGVyZWQgPSB0ZXh0LnJlcGxhY2UoL1xcKlxcKi9nLCAnJyk7XG4gIGNvbnN0IHV0dGVyYW5jZSA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UoZmlsdGVyZWQpO1xuICBjb25zdCB2b2ljZSA9IHZvaWNlc1twYXJzZUludChzZWxlY3RWb2ljZS52YWx1ZSwgMTApXTtcbiAgaWYgKCF2b2ljZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB1dHRlcmFuY2Uudm9pY2UgPSB2b2ljZTtcbiAgc3ludGguc3BlYWsodXR0ZXJhbmNlKTtcbiAgaWYgKG9uRmluaXNoZWQpIHtcbiAgICB1dHRlcmFuY2Uub25lbmQgPSBvbkZpbmlzaGVkO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuIiwiXG5leHBvcnQgY2xhc3MgQmFzZVN0b3JlIHtcbiAgZ2V0IGtleSgpIHsgcmV0dXJuIFwiXCI7IH0gLy8gYWJzdHJhY3RcblxuICBjbGVhclN0b3JlID0gKCkgPT4ge1xuICAgIHRoaXMuX3ZhbGlkYXRlKCk7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5rZXkpO1xuICB9XG5cbiAgZ2V0U3RvcmUgPSAoKSA9PiB7XG4gICAgdGhpcy5fdmFsaWRhdGUoKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaXRlbVJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5KTtcbiAgICAgIGlmICghaXRlbVJhdykgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShpdGVtUmF3KVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXG4gICAqL1xuICBzZXRTdG9yZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHRoaXMuX3ZhbGlkYXRlKCk7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMua2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICB9XG4gIH1cblxuICBfdmFsaWRhdGUgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmtleSkgdGhyb3cgbmV3IEVycm9yKCdsb2NhbCBzdG9yYWdlIGtleSBpcyByZXF1aXJlZCcpO1xuICB9XG59IiwiaW1wb3J0IHsgQmFzZVN0b3JlIH0gZnJvbSBcIi4vQmFzZVN0b3JlXCI7XG5pbXBvcnQgeyBFWEVSQ0lTRSwgTU9ERSwgT1JERVIgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5cbmNsYXNzIE9wdGlvbnNTdG9yZSBleHRlbmRzIEJhc2VTdG9yZSB7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0IGtleSgpIHtcbiAgICByZXR1cm4gXCJwdC1vcHRpb25zXCJcbiAgfVxuXG4gIF9kZWZhdWx0VmFsdWUgPSB7XG4gICAgb3JkZXI6IE9SREVSLkFOWSxcbiAgICBzZWxlY3RlZEV4ZXJjaXNlczoge1xuICAgICAgW0VYRVJDSVNFLlZFUl9DT05KVUdBVElPTl06IHRydWUsXG4gICAgICBbRVhFUkNJU0UuVklSX0NPTkpVR0FUSU9OXTogdHJ1ZSxcbiAgICAgIFtFWEVSQ0lTRS5WRVJfQU5EX1ZJUl06IHRydWUsXG4gICAgICBbRVhFUkNJU0UuRkFaRVJfQ09OSlVHQVRJT05dOiB0cnVlLFxuICAgICAgW0VYRVJDSVNFLldFQUtfUEhSQVNFU106IHRydWUsXG4gICAgICBbRVhFUkNJU0UuVk9DQUJdOiB0cnVlLFxuICAgIH0sXG4gICAgbW9kZTogTU9ERS5SRUFESU5HLFxuICB9O1xuXG4gIF9zdGF0ZSA9ICgoKSA9PiB7XG4gICAgY29uc3Qgc3RvcmVkID0gdGhpcy5nZXRTdG9yZSgpXG4gICAgaWYgKCFzdG9yZWQpIHtcbiAgICAgIHJldHVybiB7IC4uLnRoaXMuX2RlZmF1bHRWYWx1ZSB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLl9kZWZhdWx0VmFsdWUsXG4gICAgICAuLi5zdG9yZWQsXG4gICAgfVxuICB9KSgpO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7T1JERVJ9XG4gICAqL1xuICBnZXRPcmRlciA9ICgpID0+IHRoaXMuX3N0YXRlLm9yZGVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge09SREVSfSB2YWxcbiAgICovXG4gIHNldE9yZGVyID0gKHZhbCkgPT4ge1xuICAgIHRoaXMuX3N0YXRlLm9yZGVyID0gdmFsO1xuICAgIHRoaXMuc2V0U3RvcmUodGhpcy5fc3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtSZWNvcmQ8RVhFUkNJU0UsIGJvb2xlYW4+fVxuICAgKi9cbiAgZ2V0U2VsZWN0ZWRFeGVyY2lzZXMgPSAoKSA9PiAoe1xuICAgIC4uLnRoaXMuX2RlZmF1bHRWYWx1ZS5zZWxlY3RlZEV4ZXJjaXNlcyxcbiAgICAuLi50aGlzLl9zdGF0ZS5zZWxlY3RlZEV4ZXJjaXNlcyxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleGVyY2lzZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2VsZWN0ZWRcbiAgICovXG4gIHNldFNlbGVjdGVkRXhlcmNpc2UgPSAoZXhlcmNpc2UsIGlzU2VsZWN0ZWQpID0+IHtcbiAgICB0aGlzLl9zdGF0ZS5zZWxlY3RlZEV4ZXJjaXNlc1tleGVyY2lzZV0gPSBpc1NlbGVjdGVkO1xuICAgIHRoaXMuc2V0U3RvcmUodGhpcy5fc3RhdGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtNT0RFfVxuICAgKi9cbiAgZ2V0TW9kZSA9ICgpID0+IHRoaXMuX3N0YXRlLm1vZGU7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TU9ERX0gbW9kZVxuICAgKi9cbiAgc2V0TW9kZSA9IChtb2RlKSA9PiB7XG4gICAgdGhpcy5fc3RhdGUubW9kZSA9IG1vZGU7XG4gICAgdGhpcy5zZXRTdG9yZSh0aGlzLl9zdGF0ZSk7XG4gIH1cblxuICByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLmNsZWFyU3RvcmUoKTtcbiAgICB0aGlzLl9zdGF0ZSA9IHsgLi4udGhpcy5fZGVmYXVsdFZhbHVlIH07XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IG9wdGlvbnNTdG9yZSA9IG5ldyBPcHRpb25zU3RvcmUoKTtcbiIsImltcG9ydCB7IEJhc2VTdG9yZSB9IGZyb20gXCIuL0Jhc2VTdG9yZVwiO1xuXG5jbGFzcyBRdWVzdGlvbnNTdG9yZSBleHRlbmRzIEJhc2VTdG9yZSB7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0IGtleSgpIHtcbiAgICByZXR1cm4gXCJwdC1xdWVzdGlvbnNcIlxuICB9XG5cbiAgLyoqXG4gICAqIFNub296ZWQgPSBrZXktdmFsdWUgcGFpcnMgb2YgaGFzaGVkIHBvcnR1Z3Vlc2UgcGhyYXNlIChzaGEyNTYpLCBhbmQgdGltZVNub296ZUV4cGlyZXNNc1xuICAgKiBgYGBzbm9vemVkOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+YGBgXG4gICAqL1xuICBfZGVmYXVsdFZhbHVlID0ge1xuICAgIHNub296ZWQ6IHt9LFxuICB9O1xuXG4gIF9zdGF0ZSA9IHRoaXMuZ2V0U3RvcmUoKSB8fCB7IC4uLnRoaXMuX2RlZmF1bHRWYWx1ZSB9O1xuXG4gIGdldFNub296ZWRRdWVzdGlvbnMgPSAoKSA9PiAoeyAuLi50aGlzLl9zdGF0ZS5zbm9vemVkIH0pO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaGFzaFxuICAgKiBAcGFyYW0ge251bWJlcn0gc25vb3plRHVyYXRpb25Nc1xuICAgKi9cbiAgc25vb3plUXVlc3Rpb24gPSAoaGFzaCwgc25vb3plRHVyYXRpb25NcykgPT4ge1xuICAgIGlmICghaGFzaCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHRpbWVTbm9vemVFeHBpcmVzTXMgPSBub3cgKyBzbm9vemVEdXJhdGlvbk1zO1xuICAgIHRoaXMuX3N0YXRlLnNub296ZWRbaGFzaF0gPSB0aW1lU25vb3plRXhwaXJlc01zO1xuICAgIHRoaXMuc2V0U3RvcmUodGhpcy5fc3RhdGUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdW5zbm9vemVBbGxRdWVzdGlvbnMgPSAoKSA9PiB7XG4gICAgdGhpcy5fc3RhdGUuc25vb3plZCA9IHt9O1xuICAgIHRoaXMuc2V0U3RvcmUodGhpcy5fc3RhdGUpO1xuICB9XG5cbiAgcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy5jbGVhclN0b3JlKCk7XG4gICAgdGhpcy5fc3RhdGUgPSB7IC4uLnRoaXMuX2RlZmF1bHRWYWx1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBxdWVzdGlvbnNTdG9yZSA9IG5ldyBRdWVzdGlvbnNTdG9yZSgpO1xuXG4iLCJcbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXkuPFQ+fSBhcnJheVxuICogQHJldHVybnMge0FycmF5LjxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNodWZmbGVBcnJheShhcnJheSkge1xuICAvKiogQHR5cGUge0FycmF5LjxUPn0gKi9cbiAgY29uc3QgY29weSA9IGFycmF5LnNsaWNlKClcbiAgZm9yIChsZXQgaSA9IGNvcHkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICBjb25zdCB0ZW1wID0gY29weVtpXTtcbiAgICBpZiAoIXRlbXApIGNvbnRpbnVlO1xuICAgIGlmICghY29weVtqXSkgY29udGludWU7XG4gICAgY29weVtpXSA9IGNvcHlbal07XG4gICAgY29weVtqXSA9IHRlbXA7XG4gIH1cbiAgcmV0dXJuIGNvcHk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXkuPFQ+fSBhcnJcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tRWxlbWVudChhcnIpIHtcbiAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnIubGVuZ3RoKTtcbiAgY29uc3QgZWxlbSA9IGFycltyYW5kb21JbmRleF07XG4gIGlmICghZWxlbSkgdGhyb3cgbmV3IEVycm9yKCdzb21ldGhpbmcgd2VudCB0ZXJyaWJseSB3cm9uZycpO1xuICByZXR1cm4gZWxlbTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueXwoKCkgPT4gYm9vbGVhbil9IGNvbmRpdGlvblxuICogQHBhcmFtIHs/c3RyaW5nfSBvcHRUZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBvcHRUZXh0KSB7XG4gIGNvbnN0IHJlc3VsdCA9IHR5cGVvZiBjb25kaXRpb24gPT09ICdmdW5jdGlvbicgPyBjb25kaXRpb24oKSA6IGNvbmRpdGlvblxuICBpZiAoIXJlc3VsdCkge1xuICAgIHRocm93IG5ldyBFcnJvcihvcHRUZXh0IHx8ICdBc3NlcnRpb24gRmFpbGVkIScpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXF1aXJlQnlJZChpZCkge1xuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICBpZiAoIWVsZW0pIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgRE9NIGVsZW1lbnQgd2l0aCBpZCBcIiR7aWR9XCIhIWApO1xuICByZXR1cm4gZWxlbTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcmV0dXJucyB7RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVGaXJzdENoaWxkKG5vZGUpIHtcbiAgY29uc3QgZWxlbSA9IG5vZGUuY2hpbGRyZW5bMF1cbiAgaWYgKCFlbGVtKSB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBnZXQgY2hpbGQgZnJvbSBET00gZWxlbWVudCAke25vZGV9YClcbiAgcmV0dXJuIGVsZW07XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7QXJyYXkuPFQ+fSBpdGVtc1xuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4XG4gKiBAcmV0dXJucyB7QXJyYXkuPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQXJyYXlFbGVtZW50KGl0ZW1zLCBpbmRleCA9IC0xKSB7XG4gIGlmIChpbmRleCA8IDApIHJldHVybiBpdGVtcztcbiAgaWYgKGluZGV4ID49IGl0ZW1zLmxlbmd0aCkgcmV0dXJuIGl0ZW1zO1xuICByZXR1cm4gaXRlbXMuc2xpY2UoMCwgaW5kZXgpLmNvbmNhdChpdGVtcy5zbGljZShpbmRleCArIDEpKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hhMjU2KG1lc3NhZ2UgPSAnJykge1xuICBjb25zdCBtc2dVaW50OCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShtZXNzYWdlKTsgLy8gZW5jb2RlIGFzICh1dGYtOCkgVWludDhBcnJheVxuICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLCBtc2dVaW50OCk7IC8vIGhhc2ggdGhlIG1lc3NhZ2VcbiAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7IC8vIGNvbnZlcnQgYnVmZmVyIHRvIGJ5dGUgYXJyYXlcbiAgY29uc3QgaGFzaEhleCA9IGhhc2hBcnJheVxuICAgIC5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSlcbiAgICAuam9pbihcIlwiKTsgLy8gY29udmVydCBieXRlcyB0byBoZXggc3RyaW5nXG4gIHJldHVybiBoYXNoSGV4O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcmtpZnlUZXh0KHRleHQpIHtcbiAgLy8gaHR0cHM6Ly9yZWdleDEwMS5jb20vci9lcFpvNk0vMVxuICBjb25zdCByZWdCb2xkID0gLyg/PCFcXFMpXFwqXFwqKC4rPylcXCpcXCooPyFcXCopKD8hXFxTKS9nXG4gIC8vIGh0dHBzOi8vcmVnZXgxMDEuY29tL3IvbmtZRnBwLzFcbiAgY29uc3QgcmVnRW0gPSAvKD88IVxcUylcXF8oLis/KVxcXyg/IVxcUykvZ1xuICBjb25zdCBuZXdsaW5lID0gL1xccypcXFxcblxccyovZztcbiAgcmV0dXJuIHRleHRcbiAgICAucmVwbGFjZShyZWdCb2xkLCBcIjxzdHJvbmcgY2xhc3M9XFxcImFjY2VudFxcXCI+JDE8L3N0cm9uZz5cIilcbiAgICAucmVwbGFjZShyZWdFbSwgXCI8ZW0gY2xhc3M9XFxcInN1YnRsZVxcXCI+JDE8L2VtPlwiKVxuICAgIC5yZXBsYWNlKG5ld2xpbmUsIFwiPGJyLz5cIilcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0ICcuL2FwcCdcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==